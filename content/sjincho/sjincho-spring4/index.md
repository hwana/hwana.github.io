---
emoji: πΆ
title: κ³Όμ 4) μ μ–΄μ μ—­μ „κ³Ό μμ΅΄κ΄€κ³„ μ£Όμ…
date: '2023-08-01 00:00:00'
author: ν™”λ‚
tags: μ¤μ§„μ΄
categories: μ¤μ§„μ΄
---

μ μ–΄μ μ—­μ „κ³Ό μμ΅΄κ΄€κ³„ μ£Όμ….. μμ–΄λ΅ λ³΄λ©΄ λ” λ¬΄μ¨ λ»μΈμ§€ λ¨λ¥΄κ² λ‹¤. Inversion of Control, Dependency Injection π™„ λμ—..?

λ‘ μ©μ–΄μ— λ€ν• μ •μκ°€ ν•λ²μ— λ¨Έλ¦¬μ†μ— λ“¤μ–΄μ¤μ§€λ” μ•λ”λ‹¤. ν•μ§€λ§ μλ°”λ΅ λ ν”„λ΅κ·Έλ¨μ— μ¤ν”„λ§μ„ μ μ©ν•λ” λ²•μ„ λ°°μ°λ‹¤λ³΄λ©΄ μ–΄λμƒ μ€κ·Όμ¬μ© λ‚΄ λ¨Έλ¦¬μ— λ“¤μ–΄μ™€ μλ” κ²½ν—μ„ ν•  μ μλ‹¤! μ¤λμ€ [κ°•μ](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8)λ¥Ό λ“¤μΌλ©΄μ„ λΈμ† μ²΄ν—ν–λ IoCμ™€ DIμ— λ€ν•΄μ„ μ μ–΄λ³΄λ ¤κ³  ν•λ‹¤.(ν‹€λ¦΄ μ μμ μ£Όμ!π¨)

## λ¬Έμ μ 

IoCμ™€ DIκ°€ μ μ©λμ§€ μ•μ€ ν”„λ΅κ·Έλ¨μ€ μ•„λμ™€ κ°™μ΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ μ¤μ¤λ΅ μ„λ²„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•κ³  μ‹¤ν–‰ν–λ‹¤. <br>

```java
class OrderServiceImpl implements OrderService{
    private final DiscountPolicy discountPolicy = new RateDiscountPolicy();
}
```

μμ •μ΄ ν•„μ”ν•  κ²½μ° κµ¬ν„ κ°μ²΄λ¥Ό ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ—μ„ μ§μ ‘ μμ •ν•΄μ•Ό ν•λ‹¤. μ΄λ΄κ²½μ° **κ°μ²΄μ§€ν–¥μ μΈ μ„¤κ³„μ›μΉ™μ„ μ„λ°**ν•κ² λλ‹¤. κ·Έλμ„ ν΄λΌμ΄μ–ΈνΈκ°€ κµ¬ν„ κ°μ²΄μ™€ μƒκ΄€μ—†μ΄ μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ„λ΅ λ³€κ²½ν•μ—¬μ•Ό ν•λ‹¤.

```java
class OrderServiceImpl implements OrderService{
    private final DiscountPolicy discountPolicy;
}
```

μ„ μ½”λ“λ΅ λ³€κ²½ν•λ©΄ κ°μ²΄μ§€ν–¥μ μΌλ΅ μ„¤κ³„ν• κ²ƒμ΄μ§€λ§ κµ¬ν„ κ°μ²΄κ°€ μ—†κΈ° λ•λ¬Έμ— μ‹¤ν–‰μ΄ λμ§€ μ•λ”λ‹¤. κ²°κµ­ κµ¬ν„ κ°μ²΄λ¥Ό λ„κµ°κ°€ μƒμ„±ν•΄μ„ λ€μ‹  μ£Όμ…ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.

## ν•΄κ²°λ°©λ²•

```java
//κ°μ²΄λ¥Ό μƒμ„±ν•΄μ„ μ£Όμ…ν•΄μ£Όλ” μ—­ν• 
public class AppConfig{
    public OrderService orderService(){
        //OrderServiceImplμ— μ–΄λ–¤ κµ¬ν„ κ°μ²΄λ¥Ό μ£Όμ…ν• μ§€λ” μ—¬κΈ°μ—μ„ κ²°μ •ν•λ‹¤.
        return new OrderServiceImpl(new RateDiscountPolicy());
    }
}

public class OrderServiceImpl implements OrderService(){

    //μΈν„°νμ΄μ¤μ—λ§ μμ΅΄
    private final DiscountPolicy discountPolicy;

    //μƒμ„±μλ¥Ό ν†µν•΄μ„ μƒμ„±λ κ°μ²΄ μ£Όμ… λ°›μ
    public OrderServiceImpl(DiscountPolicy discountpolicy){
        this.discountpolicy = discountpolicy;
    }
}
```

- `AppConfig`κ°€ κ°μ²΄λ¥Ό μƒμ„±ν•΄μ„ μ£Όμ…ν•΄μ£ΌκΈ° λ•λ¬Έμ— `OrderServiceImpl`μ€ κµ¬ν„ κ°μ²΄λ¥Ό μ‹ κ²½μ“°μ§€ μ•κ³  μ‹¤ν–‰μ—λ§ μ§‘μ¤‘ν•λ©΄ λλ‹¤.
- μ΄λ ‡κ² ν”„λ΅κ·Έλ¨μ μ μ–΄μ νλ¦„μ„ ν΄λΌμ΄μ–ΈνΈ(OrderServiceImpl)κ°€ μ§μ ‘ μ μ–΄ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μ™Έλ¶€(AppConfig)μ—μ„ μ μ–΄ν•λ” κ²ƒμ„ **μ μ–΄μ μ—­μ „**μ΄λΌκ³  ν•λ‹¤.
- μ™Έλ¶€μ—μ„ μ‹¤μ  κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬ν•΄μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ μ‹¤μ  μμ΅΄κ΄€κ³„κ°€ μ—°κ²°λλ” κ²ƒμ„ **μμ΅΄κ΄€κ³„ μ£Όμ…**μ΄λΌκ³  ν•λ‹¤.
- μμ΅΄κ΄€κ³„κ°€ μ£Όμ…λλ©΄ ν΄λΌμ΄μ–ΈνΈμΈ΅μ—μ„ μ½”λ“λ¥Ό λ³€κ²½ν•μ§€ μ•κ³ , ν΄λΌμ΄μ–ΈνΈκ°€ νΈμ¶ν•λ” λ€μƒμ νƒ€μ…μ„ λ³€κ²½ν•  μ μλ‹¤.

## μ¤ν”„λ§ μ μ©ν•κΈ°

AppConfigλ¥Ό μ‚¬μ©ν•΄μ„ κ°λ°μκ°€ μ§μ ‘ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μμ΅΄κ΄€κ³„ μ£Όμ…μ„ ν•λ κ²ƒμ„ μ¤ν”„λ§μ—κ² λ– λ„κΈΈμ μλ‹¤π

AppConfigμ— `@Configuration` μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ—¬μ£Όλ©΄ μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” AppConfigλ¥Ό ν”„λ΅κ·Έλ¨μ μ„¤μ •μ •λ³΄λ΅ μ‚¬μ©ν•λ‹¤. AppConfigμ•μ— μλ” λ©”μ†λ“λ“¤μ— `@Bean` μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ—¬μ£Όλ©΄ λ¨λ‘ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅ν•λ‹¤.

μ΄μ  μ¤ν”„λ§ μ»¨ν…μ΄λ„μ—μ„ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅λ κ°μ²΄λ¥Ό κΊΌλ‚΄μ“°λ©΄ λλ‹¤.

μ—¬κΈ°κΉμ§€ λ³΄λ©΄ 'κ·Έλλ„ κ°λ°μκ°€ μ„¤μ •μ •λ³΄μ— κ°μ²΄λ¥Ό λ°ν™ν•λ” λ©”μ†λ“λ¥Ό λ§λ“¤μ–΄μ„ μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…ν•΄μ¤μ•Ό ν•λ”κ±° μ•„λ‹κ°€?' λΌλ” μƒκ°μ΄ λ“¤ μλ„ μλ‹¤.

λ§λ‹¤. μ§€κΈκΉμ§€λ” AppConfigμ— ν”„λ΅κ·Έλ¨μ—μ„ μ‚¬μ©ν•  κ°μ²΄λ¥Ό λ°ν™ν•λ” λ©”μ†λ“λ¥Ό μ‘μ„±ν•΄μ„ ν•λ‚ν•λ‚ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅ν–μ§€λ§, κ°―μκ°€ λ§μ•„μ§€λ©΄ κ΄€λ¦¬ν•λ”λ° ν•κ³„κ°€ μλ‹¤.

κ·Έλμ„ μ¤ν”„λ§μ—μ„λ” `@ComponentScan` μ΄λΌλ” μ–΄λ…Έν…μ΄μ…μ„ μ κ³µν•λ‹¤. μ„¤μ •μ •λ³΄ νμΌμ— `@ComponentScan`λ¥Ό λ¶™μ΄λ©΄ `@Conponent`κ°€ λ¶™μ€ ν΄λμ¤λ¥Ό λ¨λ‘ λΉμΌλ΅ λ“±λ΅ν•κ³  μ΄λ ‡κ² λ“±λ΅ν• λΉμ„ `@Autowired`λ¥Ό ν™μ©ν•΄μ„ μμ΅΄κ΄€κ³„ μ£Όμ…μ„ ν•΄μ¤€λ‹¤.

```java
@ComponentScan
public class AppConfig{

}
```

μ΄λ ‡κ²λ§ ν•λ©΄ λλ‹¤.

> λ‚΄μƒκ°π™ƒ : μ¤ν”„λ§μ—μ„ μ κ³µν•λ” μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ΄λ©΄ ν”„λ΅κ·Έλ¨μ νλ¦„μ„ μ μ–΄ν•λ©΄μ„ μμ΅΄κ΄€κ³„ μ£Όμ…κΉμ§€ λ‹¤ μ•μ•„μ„ ν•΄μ¤€λ‹¤.

```toc

```
