{"componentChunkName":"component---src-templates-blog-template-js","path":"/java/java-valid-custom-annotation/","result":{"data":{"cur":{"id":"9aa8e582-2e2f-5f80-81a2-d0ed3b67e419","html":"<h2 id=\"valid\" style=\"position:relative;\"><a href=\"#valid\" aria-label=\"valid permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@Valid</h2>\n<p>ìë°”ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì–´ë…¸í…Œì´ì…˜ ì¤‘ í•˜ë‚˜ë¡œ, HTTP ìš”ì²­ ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ë°˜í™˜í•  ë•Œ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.</p>\n<h3 id=\"localvalidatorfactorybean\" style=\"position:relative;\"><a href=\"#localvalidatorfactorybean\" aria-label=\"localvalidatorfactorybean permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>LocalValidatorFactoryBean</strong></h3>\n<p>ìŠ¤í”„ë§ì—ì„œ ì œê³µí•˜ëŠ” Validator ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ ì¤‘ í•˜ë‚˜ì´ë‹¤. ìŠ¤í”„ë§ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ ì‚¬ìš©ë˜ë©° @Valid ì–´ë…¸í…Œì´ì…˜ì„ í†µí•œ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ì²˜ë¦¬í•œë‹¤. ìŠ¤í”„ë§ì—ì„œëŠ” validation ì˜ì¡´ì„±ë§Œ ì¶”ê°€í•´ì£¼ë©´ ìë™ìœ¼ë¡œ ë¹ˆ ë“±ë¡ì´ ë˜ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>\n<h3 id=\"ì‚¬ìš©ë²•\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EB%B2%95\" aria-label=\"ì‚¬ìš©ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‚¬ìš©ë²•</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SignupRequestDto</span> <span class=\"token punctuation\">{</span>\r\n\t<span class=\"token annotation punctuation\">@NotBlank</span>\r\n\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> username<span class=\"token punctuation\">;</span>\r\n\t<span class=\"token annotation punctuation\">@NotBlank</span>\r\n\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> password<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/user/signup\"</span><span class=\"token punctuation\">)</span>\r\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Void</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">signup</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Valid</span> <span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">SignupRequestDto</span> requestDto<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ íš¨ì„±ì„ ê²€ì¦í•  ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ DTOë¥¼ ìƒì„±í•˜ê³ , ê° í•„ë“œì— ê²€ì¦í•˜ê³  ì‹¶ì€ ìœ íš¨ì„± ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì¤€ë‹¤. í•´ë‹¹ DTOì— @Valid ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì´ë©´ ìœ íš¨ì„± ê²€ì¦ì„ í•  ìˆ˜ ìˆë‹¤.</p>\n<h3 id=\"ê²€ì¦-ì‹¤íŒ¨\" style=\"position:relative;\"><a href=\"#%EA%B2%80%EC%A6%9D-%EC%8B%A4%ED%8C%A8\" aria-label=\"ê²€ì¦ ì‹¤íŒ¨ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê²€ì¦ ì‹¤íŒ¨</h3>\n<p>ê²€ì¦ì— ì‹¤íŒ¨í•  ê²½ìš° MethodArgumentNotValidException ì˜ˆì™¸ë¥¼ ë˜ì§€ê²Œ ëœë‹¤.</p>\n<h2 id=\"ì»¤ìŠ¤í…€-ì–´ë…¸í…Œì´ì…˜\" style=\"position:relative;\"><a href=\"#%EC%BB%A4%EC%8A%A4%ED%85%80-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98\" aria-label=\"ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜</h2>\n<h3 id=\"íšŒì›ê°€ì…-ë°ì´í„°ì˜-ì¡°ê±´\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EC%9B%90%EA%B0%80%EC%9E%85-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98-%EC%A1%B0%EA%B1%B4\" aria-label=\"íšŒì›ê°€ì… ë°ì´í„°ì˜ ì¡°ê±´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>íšŒì›ê°€ì… ë°ì´í„°ì˜ ì¡°ê±´</h3>\n<ul>\n<li>ì‚¬ìš©ì ì´ë¦„ : ìµœì†Œ 4ì ì´ìƒ, 10ì ì´í•˜ì´ë©° ì•ŒíŒŒë²³ ì†Œë¬¸ì, ìˆ«ìë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•œë‹¤.</li>\n<li>ë¹„ë°€ë²ˆí˜¸ : ìµœì†Œ 8ì ì´ìƒ, 15ì ì´í•˜ì´ë©° ì•ŒíŒŒë²³ ëŒ€ì†Œë¬¸ì, ìˆ«ìë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•œë‹¤.</li>\n</ul>\n<h3 id=\"signuprequestdto\" style=\"position:relative;\"><a href=\"#signuprequestdto\" aria-label=\"signuprequestdto permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SignupRequestDto</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Getter</span>\r\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span>\r\n<span class=\"token annotation punctuation\">@AllArgsConstructor</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SignupRequestDto</span> <span class=\"token punctuation\">{</span>\r\n\t<span class=\"token annotation punctuation\">@Username</span>\r\n\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> username<span class=\"token punctuation\">;</span>\r\n\t<span class=\"token annotation punctuation\">@Password</span>\r\n\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> password<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"username-password\" style=\"position:relative;\"><a href=\"#username-password\" aria-label=\"username password permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@Username, @Password</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>FIELD<span class=\"token punctuation\">)</span>\r\n<span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span>\r\n<span class=\"token annotation punctuation\">@Constraint</span><span class=\"token punctuation\">(</span>validatedBy <span class=\"token operator\">=</span> <span class=\"token class-name\">UsernameValidator</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token annotation punctuation\">@Documented</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Username</span> <span class=\"token punctuation\">{</span>\r\n\r\n\t<span class=\"token class-name\">String</span> <span class=\"token function\">message</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">\"ì‚¬ìš©ì ì´ë¦„ì€ ìµœì†Œ 4ì ì´ìƒ, 10ì ì´í•˜ì´ë©° ì•ŒíŒŒë²³ ì†Œë¬¸ì, ìˆ«ìë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\"</span><span class=\"token punctuation\">;</span>\r\n\r\n\t<span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">groups</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n\t<span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Payload</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">payload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token annotation punctuation\">@Documented</span>\r\n<span class=\"token annotation punctuation\">@Constraint</span><span class=\"token punctuation\">(</span>validatedBy <span class=\"token operator\">=</span> <span class=\"token class-name\">PasswordValidator</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ElementType</span><span class=\"token punctuation\">.</span>FIELD<span class=\"token punctuation\">)</span>\r\n<span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RetentionPolicy</span><span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token annotation punctuation\">@interface</span> <span class=\"token class-name\">Password</span> <span class=\"token punctuation\">{</span>\r\n\r\n\t\t<span class=\"token class-name\">String</span> <span class=\"token function\">message</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">\"ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 8ì ì´ìƒ, 15ì ì´í•˜ì´ë©° ì•ŒíŒŒë²³ ëŒ€, ì†Œë¬¸ì, ìˆ«ìë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\"</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">groups</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Payload</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">payload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>@Target(ElementType.FIELD)\n<ul>\n<li>ì´ ì–´ë…¸í…Œì´ì…˜ì„ í•„ë“œì—ë§Œ ì ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì •</li>\n</ul>\n</li>\n<li>@Retention(RetentionPolicy.RUNTIME)\n<ul>\n<li>ëŸ°íƒ€ì„ì‹œì—ë„ ì´ ì–´ë…¸í…Œì´ì…˜ ì •ë³´ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ ì €ì¥</li>\n</ul>\n</li>\n<li>@Constraint(validatedBy = UsernameValidator.class)\n<ul>\n<li>ì´ ì–´ë…¸í…Œì´ì…˜ì˜ ì‹¤ì œ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì§€ì •</li>\n</ul>\n</li>\n<li>@Documented\n<ul>\n<li>ì´ ì–´ë…¸í…Œì´ì…˜ì˜ ì •ë³´ê°€ Javadocì— í¬í•¨ë˜ë„ë¡ ì§€ì •</li>\n</ul>\n</li>\n<li>String message() default\n<ul>\n<li>ì–´ë…¸í…Œì´ì…˜ì´ ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í•  ê²½ìš° ì‚¬ìš©í•  ë””í´íŠ¸ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì •ì˜</li>\n</ul>\n</li>\n<li>Class&#x3C;?>[] groups() default {};\n<ul>\n<li>Bean Validationì—ì„œ ê·¸ë£¹í™”ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•œ ì„¤ì •, ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ë¹„ì–´ìˆëŠ” ë°°ì—´ ì‚¬ìš©</li>\n</ul>\n</li>\n<li>Class&#x3C;? extends Payload>[] payload() default {};\n<ul>\n<li>ì¶”ê°€ì ì¸ ì •ë³´ë¥¼ ì „ë‹¬í•  ë•Œ ì‚¬ìš©, ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ë¹„ì–´ìˆëŠ” ë°°ì—´ ì‚¬ìš©</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"usernamevalidator-passwordvalidator\" style=\"position:relative;\"><a href=\"#usernamevalidator-passwordvalidator\" aria-label=\"usernamevalidator passwordvalidator permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UsernameValidator, PasswordValidator</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UsernameValidator</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ConstraintValidator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Username</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> MIN_SIZE <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> MAX_SIZE <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> regexUsername <span class=\"token operator\">=</span> <span class=\"token string\">\"^[a-z0-9]+[a-z0-9]{\"</span> <span class=\"token operator\">+</span> MIN_SIZE <span class=\"token operator\">+</span> <span class=\"token string\">\",\"</span> <span class=\"token operator\">+</span> MAX_SIZE <span class=\"token operator\">+</span> <span class=\"token string\">\"}$\"</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isValid</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> username<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ConstraintValidatorContext</span> context<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">boolean</span> isValidUsername <span class=\"token operator\">=</span> username<span class=\"token punctuation\">.</span><span class=\"token function\">matches</span><span class=\"token punctuation\">(</span>regexUsername<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isValidUsername<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">disableDefaultConstraintViolation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">buildConstraintViolationWithTemplate</span><span class=\"token punctuation\">(</span>\r\n                    <span class=\"token class-name\">MessageFormat</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{0}ì ì´ìƒì˜ {1}ì ì´í•˜ì˜ ìˆ«ì, ì˜ë¬¸ìë¥¼ í¬í•¨í•œ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\"</span><span class=\"token punctuation\">,</span>\r\n                            MIN_SIZE<span class=\"token punctuation\">,</span>\r\n                            MAX_SIZE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addConstraintViolation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">return</span> isValidUsername<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token annotation punctuation\">@Component</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PasswordValidator</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ConstraintValidator</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Password</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> MIN_SIZE <span class=\"token operator\">=</span> <span class=\"token number\">8</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> MAX_SIZE <span class=\"token operator\">=</span> <span class=\"token number\">15</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> regexPassword <span class=\"token operator\">=</span> <span class=\"token string\">\"^(?=.*[A-Za-z])(?=.*[0-9])[A-Za-z0-9]{\"</span> <span class=\"token operator\">+</span> MIN_SIZE <span class=\"token operator\">+</span> <span class=\"token string\">\",\"</span> <span class=\"token operator\">+</span> MAX_SIZE <span class=\"token operator\">+</span> <span class=\"token string\">\"}$\"</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isValid</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> password<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ConstraintValidatorContext</span> context<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">boolean</span> isValidPassword <span class=\"token operator\">=</span> password<span class=\"token punctuation\">.</span><span class=\"token function\">matches</span><span class=\"token punctuation\">(</span>regexPassword<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isValidPassword<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">disableDefaultConstraintViolation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            context<span class=\"token punctuation\">.</span><span class=\"token function\">buildConstraintViolationWithTemplate</span><span class=\"token punctuation\">(</span>\r\n                            <span class=\"token class-name\">MessageFormat</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{0}ì ì´ìƒì˜ {1}ì ì´í•˜ì˜ ìˆ«ì, ëŒ€,ì†Œë¬¸ìë¥¼ í¬í•¨í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”\"</span><span class=\"token punctuation\">,</span> MIN_SIZE<span class=\"token punctuation\">,</span> MAX_SIZE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">addConstraintViolation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token keyword\">return</span> isValidPassword<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>isValid() : ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ì§„í–‰í•˜ëŠ” ë¡œì§ ì‘ì„±</li>\n<li>context.disableDefaultConstraintViolation() : ê¸°ë³¸ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì„¤ì •</li>\n<li>context.buildConstraintViolationWithTemplate() : ì‚¬ìš©ì ì •ì˜ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì¶”ê°€</li>\n<li>addConstraintViolation() : ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ë˜ë©´ ì—ëŸ¬ ì •ë³´ë¥¼ ConstraintValidatorContextì— ì¶”ê°€í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬í•œë‹¤. ì „ë‹¬ëœ ì •ë³´ëŠ” ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.</li>\n</ul>\n<p><a href=\"https://mangkyu.tistory.com/206\">ì°¸ê³ 1</a>\r\n<a href=\"https://velog.io/@livenow/Java-%EC%BB%A4%EC%8A%A4%ED%85%80-%EC%95%A0%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98%EC%9C%BC%EB%A1%9C-Password%EA%B7%9C%EC%B9%99-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0\">ì°¸ê³ 2</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#valid\">@Valid</a></p>\n<ul>\n<li><a href=\"#localvalidatorfactorybean\"><strong>LocalValidatorFactoryBean</strong></a></li>\n<li><a href=\"#%EC%82%AC%EC%9A%A9%EB%B2%95\">ì‚¬ìš©ë²•</a></li>\n<li><a href=\"#%EA%B2%80%EC%A6%9D-%EC%8B%A4%ED%8C%A8\">ê²€ì¦ ì‹¤íŒ¨</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%BB%A4%EC%8A%A4%ED%85%80-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98\">ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜</a></p>\n<ul>\n<li><a href=\"#%ED%9A%8C%EC%9B%90%EA%B0%80%EC%9E%85-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98-%EC%A1%B0%EA%B1%B4\">íšŒì›ê°€ì… ë°ì´í„°ì˜ ì¡°ê±´</a></li>\n<li><a href=\"#signuprequestdto\">SignupRequestDto</a></li>\n<li><a href=\"#username-password\">@Username, @Password</a></li>\n<li><a href=\"#usernamevalidator-passwordvalidator\">UsernameValidator, PasswordValidator</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"@Valid ìë°”ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì–´ë…¸í…Œì´ì…˜ ì¤‘ í•˜ë‚˜ë¡œ, HTTP ìš”ì²­ ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ë°˜í™˜í•  ë•Œ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤. LocalValidatorFactoryBean ìŠ¤í”„ë§ì—ì„œ ì œê³µí•˜ëŠ” Validator ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ ì¤‘ í•˜ë‚˜ì´ë‹¤. ìŠ¤í”„ë§ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ ì‚¬ìš©ë˜ë©° @Valid ì–´ë…¸í…Œì´ì…˜ì„ í†µí•œ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ì²˜ë¦¬í•œë‹¤. ìŠ¤í”„ë§ì—ì„œëŠ” validation ì˜ì¡´ì„±ë§Œ ì¶”ê°€í•´ì£¼ë©´ ìë™ìœ¼ë¡œ ë¹ˆ ë“±ë¡ì´ ë˜ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ë²• ìœ íš¨ì„±ì„ ê²€ì¦í•  ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ DTOë¥¼ ìƒì„±í•˜ê³ , ê° í•„ë“œì— ê²€ì¦í•˜ê³  ì‹¶ì€ ìœ íš¨ì„± ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì¤€ë‹¤. í•´ë‹¹ DTOì— @Valid ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì´ë©´ ìœ íš¨ì„± ê²€ì¦ì„ í•  ìˆ˜ ìˆë‹¤. ê²€ì¦ ì‹¤íŒ¨ ê²€ì¦ì— ì‹¤íŒ¨í•  ê²½ìš° MethodArgumentNotValidException ì˜ˆì™¸ë¥¼ ë˜ì§€ê²Œ ëœë‹¤. ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ íšŒì›ê°€ì… ë°ì´í„°ì˜ ì¡°ê±´ ì‚¬ìš©ì ì´ë¦„ : ìµœì†Œ 4ì ì´ìƒ, 10ì ì´í•˜ì´ë©° ì•ŒíŒŒë²³ ì†Œë¬¸ì, ìˆ«ìë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•œë‹¤. ë¹„ë°€ë²ˆí˜¸â€¦","frontmatter":{"date":"November 13, 2023","title":"ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ íšŒì›ê°€ì… ìœ íš¨ì„± ê²€ì‚¬í•˜ê¸°","categories":"ìë°”","author":"í™”ë‚˜","emoji":"ğŸŒ"},"fields":{"slug":"/java/java-valid-custom-annotation/"}},"next":{"id":"5916bbd8-7edf-5e79-bc5e-16082ba80919","html":"<h1 id=\"websecurityconfig\" style=\"position:relative;\"><a href=\"#websecurityconfig\" aria-label=\"websecurityconfig permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WebSecurityConfig</h1>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\r\n<span class=\"token annotation punctuation\">@EnableWebSecurity</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">WebSecurityConfig</span> <span class=\"token punctuation\">{</span>\r\n\r\n\t<span class=\"token annotation punctuation\">@Bean</span>\r\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">SecurityFilterChain</span> <span class=\"token function\">securityFilterChain</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpSecurity</span> http<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token comment\">// CSRF ì„¤ì •</span>\r\n\t\thttp<span class=\"token punctuation\">.</span><span class=\"token function\">csrf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>csrf<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> csrf<span class=\"token punctuation\">.</span><span class=\"token function\">disable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\t\thttp<span class=\"token punctuation\">.</span><span class=\"token function\">authorizeHttpRequests</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>authorize<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> authorize\r\n            <span class=\"token punctuation\">.</span><span class=\"token function\">requestMatchers</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PathRequest</span><span class=\"token punctuation\">.</span><span class=\"token function\">toStaticResources</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">atCommonLocations</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">permitAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">anyRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">authenticated</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\t\thttp<span class=\"token punctuation\">.</span><span class=\"token function\">formLogin</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Customizer</span><span class=\"token punctuation\">.</span><span class=\"token function\">withDefaults</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\t\t<span class=\"token keyword\">return</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \r\n\t\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>CSRF(Cross Site Request Forgery)ë€?</p>\n<ul>\n<li>ì›¹ ì·¨ì•½ì  ê³µê²© ë°©ë²•ì¤‘ í•˜ë‚˜ë¡œ ì‚¬ìš©ìê°€ ìì‹ ì˜ ì˜ì§€ì™€ ë¬´ê´€í•˜ê²Œ ê³µê²©ìê°€ ì˜ë„í•œ í–‰ìœ„ë¥¼ íŠ¹ì • ì›¹ì‚¬ì´íŠ¸ì— ìš”ì²­í•˜ê²Œ í•˜ëŠ” ê³µê²©</li>\n</ul>\n</li>\n<li>\n<p>Spring Securityì—ì„œëŠ” CSRF ì˜ˆë°©ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë° DISABLE í•˜ëŠ” ì´ìœ </p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/features/exploits/csrf.html#csrf-considerations\">Cross Site Request Forgery (CSRF) :: Spring Security</a></p>\n<p>ê³µì‹ í˜ì´ì§€ì— ë‚˜ì™€ìˆë“¯, CSRF ì„¤ì •ì€ ë¸Œë¼ìš°ì €ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. CSRFë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ë¸Œë¼ìš°ì € ì´ì™¸ì˜ í´ë¼ì´ì–¸íŠ¸ì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤(REST API)ë¥¼ ìƒì„±í•  ê²½ìš°ì´ë‹¤. REST APIëŠ” ì„œë²„ì— ì¸ì¦ì •ë³´ë¥¼ ë³´ê´€í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— CSRF ê³µê²©ì— í¬ê²Œ ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤.</p>\n</li>\n<li>\n<p>authorizeRequests() : íŠ¹ì • ê²½ë¡œì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì„ ì§€ì •í•˜ëŠ” ë©”ì†Œë“œ</p>\n</li>\n<li>\n<p>requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll() : ì •ì  ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì€ ëª¨ë‘ì—ê²Œ í—ˆìš©í•œë‹¤.</p>\n</li>\n<li>\n<p>anyRequest().authenticated() : ë‚˜ë¨¸ì§€ ëª¨ë“  ìš”ì²­ì€ ì¸ì¦ëœ ì‚¬ìš©ìì—ê²Œ í—ˆìš©ëœë‹¤.</p>\n</li>\n<li>\n<p>http.build() : http ê°ì²´ë¥¼ ë¹Œë“œí•˜ì—¬ SecurityFilterChainë¹ˆì„ ë°˜í™˜í•œë‹¤.</p>\n</li>\n</ul>\n<h1 id=\"usernamepasswordauthenticationfilter\" style=\"position:relative;\"><a href=\"#usernamepasswordauthenticationfilter\" aria-label=\"usernamepasswordauthenticationfilter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UsernamePasswordAuthenticationFilter</h1>\n<ul>\n<li>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì—ì„œ ì œê³µí•˜ëŠ” ì‚¬ìš©ì ì¸ì¦ì„ ì²˜ë¦¬í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” í•„í„°</li>\n<li>ì‚¬ìš©ìê°€ ì œê³µí•œ ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¸ì¦ì„ ìˆ˜í–‰í•œë‹¤.</li>\n<li>ì£¼ë¡œ ì›¹ ê¸°ë°˜ì˜ í¼ ë¡œê·¸ì¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” í•„í„°ì´ë‹¤.</li>\n</ul>\n<h2 id=\"ë™ì‘ì˜-íë¦„\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%9E%91%EC%9D%98-%ED%9D%90%EB%A6%84\" aria-label=\"ë™ì‘ì˜ íë¦„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë™ì‘ì˜ íë¦„</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFdklEQVQ4yzWQCVCTdxDFF0SkylER1HrgSFVQq0VBreJRO3aKM6IiEAJJOAzxywUKihwWVEC5Kh4cAWJIvhwcaaIIKCBKkTMEQgKBEAmikqoYrHe9nX8nVHfmN2/f7O7MzoMV7ivd1ixfvXrF0h88md7uO47vcN/lu3bV2uDQsKk0/53TA4gkS7t539sAgN3+UvV+YolKRChUcAPy2i4Si1UcIlddSBHe5kZKH7pFysYBgsIjp6JDKwHFOME75uIj75mLL79lLnVHR5fBql1kK//dvtZTXNdZubm6erD5XbeCzjciwrkGRDj7P4FnriJSUQfC5CYfrGoCIGq9izVKc3dA17ztHmFuK1uISzYhsZcjKvWw1zG8HLyIjCkz7B2nUVIlUHe5duYl9ev51Pg/tgfTEwlXNK/nc67qFufLuxd69CAQpnIARjIphD7Sd68a9jg9vunnPFG/x3mica/zoxt7nd8YqQsrUDbAdIBpGEdhFyQybvYTPvjJr0j7y28pMoJvQd/WAMnjDcGy59tC//xnJfXqvwCqgsSQ3oPe+hu09ap6qpeyNsJT0XRgg/IvbL1h9KBnNkC7JWcMAa9lbHNUxQCKEPQimliLqIJeFHFR8QUlYl5+WB5VbQQIuFBrvRv+r3uJPlv00d5khIbtIgEAAUAtnm9pnoWQaD/GpnGIMencAFbyhZDDWXzf/GrVpnOyjs250rZtqWVKl2yZEiDw1y02sQCTR5/YrrEf2K6Vg6RFngghIG10d/BYs8bGydHpG1trOxcAmPWF2QAw47iwHdLL2uGkqAWSREo4Ud4FwDyWabXDP+LbbTuJjrD1mB0so86CnUdsfPwp9ht8Am3tbWdYz12+zuoYQhY/U2Kmb/THbLdTk6Zv9wtdEnTotG1yF7JiC5TWLNmoFSGv1QL84grNz1kDwNx5AC6udrB69+kqCJcagSLQTUZB57ZCYHH31705AOCwaI7TFh5CQChsgxCJAcLlDyG4SAlAPXvNnVp5359R83RXSIkqIJQ/QKBW3NsTLhkJoIpv+8wGsKQVNm+giAwJZFx/kITrD4XwtDGB+Z2JJP5gbPDF/lhiiTomrOxe3L5TV/bB76K2TCpPifbzlJ+ovO7PVJ7yc3hJ56eI4nZE5Ws0EoTgZHlnBoarEIb3PqOLNC8xXPWSLu57gQl7zWr2z6ncjvdBWTVFkCxqp7El/V0sibaJJe5vZuC9zSzJQFNUpb6TVTnCfYUQpMq1h+MbX/7NEGt1mKBXj+EavVkPCFR6Gk+px3D1UELTm1Hy+aYsOCFuSWDg3fcZIvUAXdAzRBd0DzFE6kGGSH2XUaa7ZEII0mXqhKN1Tx6xxP23mUKNgYGrDQyh2sDAew10fo+BKdQMx19/PkY+25gNKXJd7JGGF3fCSzr7KAW3tOHFHVpyXlNfdNWDkcPXX0s1CEFalS45vvn9M6xs8B5NqDZGCjXGSH6PMVKgMmLlQ0amdHgsoeWjiVLYdh7S5ZozcfUTH0Lzrk+E5NY8JZ2peRqUIX0SJb/zLq7x5c2PCEGGXMVOvPpAdViquxVT1tcaU97fGluubY2ZpN+sLUl14wpyTm0S5GWmOXFOJrlU8PAFUoF4ErlEuqA0+/TC4wejnKvNGV4ZTmHJx96EXLj5KKxYYQotajeFlShMocWdJnJBs4lc2DrOqnr4IqxIUQA4pwCE53Kh9nI91FXfgGvVN6ChrhVkvFLInwlwahxBamV3XHTlkJFdptVFV+r1URW6SQ7JDHqzZ0v6h6Ir9aPBOdcyIY8vs8gRNlhk4/UWOV8w9xncKouUW28tU+8iSCtvP8kQqh5j/C4DVqoY/Qod7xml492jNG7bCF2oekDKrcv6D+wo3nj/znU1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/662295215e47b909a64ae292068f09b2/37523/1.png\"\n        srcset=\"/static/662295215e47b909a64ae292068f09b2/e9ff0/1.png 180w,\n/static/662295215e47b909a64ae292068f09b2/f21e7/1.png 360w,\n/static/662295215e47b909a64ae292068f09b2/37523/1.png 720w,\n/static/662295215e47b909a64ae292068f09b2/302a4/1.png 1080w,\n/static/662295215e47b909a64ae292068f09b2/07a9c/1.png 1440w,\n/static/662295215e47b909a64ae292068f09b2/2b608/1.png 1540w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í¼ì— ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•œ ë’¤ ë¡œê·¸ì¸ ìš”ì²­ì„ ì „ì†¡í•˜ë©´ UsernamePasswordAuthenticationFilter ê°€ ìš”ì²­ì„ ê°€ë¡œì±„ì„œ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì •ë³´ë¡œ UsernamePasswordAuthenticationToken ì„ ìƒì„±í•œë‹¤.</li>\n<li>ìƒì„±í•œ í† í°ì„ AuthenticationManager ì—ê²Œ ì „ë‹¬í•œë‹¤. AuthenticationManager ëŠ” ì‹¤ì œë¡œ ì‚¬ìš©ìë¥¼ ì¸ì¦í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\n<ul>\n<li>ì¸ì¦ì— ì„±ê³µí•  ê²½ìš°\n<ul>\n<li>Authentication ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì´ ê°ì²´ë¥¼ SecurityContextHolderì— ì €ì¥í•œë‹¤.</li>\n<li>AuthenticationSuccessHandler ì‹¤í–‰ë˜ì–´ ë¡œê·¸ì¸ ì´í›„ íŠ¹ì • ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤.</li>\n</ul>\n</li>\n<li>ì¸ì¦ì— ì‹¤íŒ¨í•  ê²½ìš°\n<ul>\n<li>AuthenticationFailureHandlerê°€ ì‹¤í–‰ë˜ì–´ ì—ëŸ¬í˜ì´ì§€ë¡œ ë¦¬ë””ë ‰ì…˜í•˜ê±°ë‚˜ íŠ¹ì • ë™ì‘ì„ êµ¬í–‰í•œë‹¤.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"securitycontextholder\" style=\"position:relative;\"><a href=\"#securitycontextholder\" aria-label=\"securitycontextholder permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SecurityContextHolder</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAACBUlEQVQozzWLzVMSYQCH97/rkpPJ1HTq0LRYl05+NFOHGg9M5ojLgpCKrisbIJSyLLi7fCyLieBCmqGpI2VjzsSkjV2AgPf9NTDT4bk88zyM493eq+GNJlitTVitTVm1hZtOEzZfBXfndzHgNHHHV8bQ7A5s3h3c4vIY5DZxw6Fi0PsRdr3Te8GqbTxOdcBMrVVEoXgN47RFtOMG1Y4bUCo/MBs1wYXS8EQycAY24JR0uMIZTAdUeKImIpvHkMsX0E+a6D3Z0yaWSn/AvH5f8ZvVS5xf/SW1eoPW6g2cXwOFz2dQzF1krCPEDQtaoYpU8RCyUYZePETtVxtnV13U6s0+3y9byFV/g3FH8otP/BU80ECGdUIfql1q1yllk01qc2/Tgek8tc1adNBdokOeMr3t2qL3lg77jV0jlNUIfZSi9L7SoZPqT8pMSWn/S6GA0PZ5R0hXu+HCVxLIHZHQ1jcysbpPFuLbxBMxyFxsi3gjGeIKZ8lE9ICIxhERs1+IlD8hYvaALKRPiE+/6DKTwZz4wpfGulrCclCBEExgxhvAavwDuOg+VqJpzC3HIAST8EtxvFlJwCEW4V+JYV5cg/BWwZIkw+2PgY/VwCyuGY5nHvnTyIxcGueT1iinWGN80hqZka1xbt0a4eLWGJ+wxlz/UaynvNxv+vQcn9gZ5TfKz6U94x/EbaUduIWe/AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/28f0f6e49649bc90a0d215b286da1559/37523/2.png\"\n        srcset=\"/static/28f0f6e49649bc90a0d215b286da1559/e9ff0/2.png 180w,\n/static/28f0f6e49649bc90a0d215b286da1559/f21e7/2.png 360w,\n/static/28f0f6e49649bc90a0d215b286da1559/37523/2.png 720w,\n/static/28f0f6e49649bc90a0d215b286da1559/587b0/2.png 970w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>\n<p>í˜„ì¬ ì‚¬ìš©ìì˜ ì¸ì¦ ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ì–¸ì œë“ ì§€ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í´ë˜ìŠ¤ì´ë©° SecurityContextë¥¼ ê´€ë¦¬í•œë‹¤.</p>\n</li>\n<li>\n<p>SecurityContextì—ëŠ” Authentication ê°ì²´ì™€ ê´€ë ¨ëœ ë³´ì•ˆ ì •ë³´ê°€ ì €ì¥ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">SecurityContext</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token class-name\">Authentication</span> <span class=\"token function\">getAuthentication</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token keyword\">void</span> <span class=\"token function\">setAuthentication</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Authentication</span> authentication<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>AuthenticationëŠ” í˜„ì¬ ì‚¬ìš©ìì˜ ì¸ì¦ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Authentication</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Principal</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token class-name\">Collection</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">GrantedAuthority</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getAuthorities</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token class-name\">Object</span> <span class=\"token function\">getCredentials</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token class-name\">Object</span> <span class=\"token function\">getDetails</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token class-name\">Object</span> <span class=\"token function\">getPrincipal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token keyword\">boolean</span> <span class=\"token function\">isAuthenticated</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token keyword\">void</span> <span class=\"token function\">setAuthenticated</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">boolean</span> isAuthenticated<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"userdetailsservice\" style=\"position:relative;\"><a href=\"#userdetailsservice\" aria-label=\"userdetailsservice permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UserDetailsService</h2>\n<p>ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ DBì—ì„œ ê°€ì ¸ì™€ ê²€ì¦í•˜ê³  UserDetails ê°ì²´ë¡œ ë°˜í™˜í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Service</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomUserDetailsService</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserDetailsService</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Autowired</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserRepository</span> userRepository<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UserDetails</span> <span class=\"token function\">loadUserByUsername</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> username<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">UsernameNotFoundException</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> userRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findByUsername</span><span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">orElseThrow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UsernameNotFoundException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"User not found with username: \"</span> <span class=\"token operator\">+</span> username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomUserDetails</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"userdetails\" style=\"position:relative;\"><a href=\"#userdetails\" aria-label=\"userdetails permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UserDetails</h2>\n<p>ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ í‘œí˜„í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤,  UsernamePasswordAuthenticationToken íƒ€ì…ì˜ Authenticationë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©ë˜ë©° í•´ë‹¹ ì¸ì¦ê°ì²´ëŠ” SecurityContextHolderì— ì„¸íŒ…ëœë‹¤.</p>\n<h1 id=\"ê¸°ë³¸-ë¡œê·¸ì¸\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-%EB%A1%9C%EA%B7%B8%EC%9D%B8\" aria-label=\"ê¸°ë³¸ ë¡œê·¸ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°ë³¸ ë¡œê·¸ì¸</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSklEQVQY012Qy0rDQBiF81Q+jA/hY7jvoqW5CBWsUMWF4s6VYLEo1mBMFRN00aY2t5p0Lv/8k5mOSBdWv92Bc+DjWGYLrTUA/Oa1kVwDlUCkBLVdK8slpdQKivkwiUtGUAgOnBDCOWeMAwClpFpVSivZIAgQQjRNY4xhlI5uR1EUW0eTu5P74eV4FIwffd/P8zzLsvHDOMsyAEg+05pQxvgknDDOKaUAMJvNBoPTIHi2XhbJTRgwFPVXRQhZrVaIKARKZErJjb3WWjXIOUdEYwwHiKK4KApLKbWR2ZBlaZqmZbkkdY7I96/ivYu369fEGJmXpe/7YRgmyZyzHwvr32ECoKrr6XQmBMhG756/7ww+zp4WxphGaSklAGit18Yg4p+xUqrf77darXa7bdu24zjHPW9w6PUOvG7Xtm3bdV3P8xzHcV230+l8A4HYeMdBL7zqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/c296bd303b5bc5bb85f1e40013bae820/37523/3.png\"\n        srcset=\"/static/c296bd303b5bc5bb85f1e40013bae820/e9ff0/3.png 180w,\n/static/c296bd303b5bc5bb85f1e40013bae820/f21e7/3.png 360w,\n/static/c296bd303b5bc5bb85f1e40013bae820/37523/3.png 720w,\n/static/c296bd303b5bc5bb85f1e40013bae820/302a4/3.png 1080w,\n/static/c296bd303b5bc5bb85f1e40013bae820/07a9c/3.png 1440w,\n/static/c296bd303b5bc5bb85f1e40013bae820/29114/3.png 1920w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>ë¡œê·¸ì¸ ì‹œë„í•  username, password ì •ë³´ë¥¼ POST HTTP bodyë¡œ ì „ë‹¬í•œë‹¤. Authentication ManagerëŠ” UserDetailsServiceì—ê²Œ usernameì„ ì „ë‹¬í•˜ê³  íšŒì› ìƒì„¸ì •ë³´ë¥¼ ìš”ì²­í•œë‹¤.</li>\n<li>UserDetailsServiceëŠ” ì „ë‹¬ë°›ì€ usernameìœ¼ë¡œ DBì—ì„œ íšŒì› ì •ë³´ë¥¼ ì¡°íšŒí•œë‹¤.\n<ul>\n<li>ì„±ê³µí•  ê²½ìš° UserDetails ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•œë‹¤.</li>\n<li>ì‹¤íŒ¨í•  ê²½ìš° ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.</li>\n</ul>\n</li>\n<li>Authentication ManagerëŠ” ì „ë‹¬ë°›ì€ UserDetails ê°ì²´ë¡œ ì¸ì¦ì„ ì‹œë„í•˜ì—¬ ì„±ê³µí•˜ë©´ ì„¸ì…˜ì— ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.</li>\n</ol>\n<blockquote>\n<p>UserDetailsServiceì™€ UserDetailsë¥¼ ì§ì ‘ êµ¬í˜„í•˜ë©´ Spring Securityì—ì„œ ì œê³µí•˜ëŠ” ë””í´íŠ¸ ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šê² ë‹¤ëŠ” ëœ»ì´ ë˜ì–´ì„œ ê¸°ë³¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.</p>\n</blockquote>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%8F%99%EC%9E%91%EC%9D%98-%ED%9D%90%EB%A6%84\">ë™ì‘ì˜ íë¦„</a></p>\n<ul>\n<li><a href=\"#securitycontextholder\">SecurityContextHolder</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#userdetailsservice\">UserDetailsService</a></p>\n</li>\n<li>\n<p><a href=\"#userdetails\">UserDetails</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"November 10, 2023","title":"Spring Security","categories":"ë³´ì•ˆ","author":"í™”ë‚˜","emoji":"ğŸ”"},"fields":{"slug":"/security/spring-security/"}},"prev":{"id":"d05219b6-60e7-5f52-b472-27d11993726d","html":"<p>Filterì—ì„œ ë°œìƒí•˜ëŠ” Exception ì²˜ë¦¬í•˜ê¸°</p>","frontmatter":{"date":"November 14, 2023","title":"Filterì—ì„œ ë°œìƒí•˜ëŠ” Exception ì²˜ë¦¬í•˜ê¸°","categories":"ë³´ì•ˆ","author":"í™”ë‚˜","emoji":"ğŸ”"},"fields":{"slug":"/security/filter-exception-handler/"}},"site":{"siteMetadata":{"siteUrl":"https://www.hwana.com","comments":{"utterances":{"repo":"hwana/hwana.github.io"}}}}},"pageContext":{"slug":"/java/java-valid-custom-annotation/","nextSlug":"/security/spring-security/","prevSlug":"/security/filter-exception-handler/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}