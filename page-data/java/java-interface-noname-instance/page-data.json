{"componentChunkName":"component---src-templates-blog-template-js","path":"/java/java-interface-noname-instance/","result":{"data":{"cur":{"id":"2990b3c3-2c07-518c-9ff1-a99b8d43443c","html":"<p>모던 자바 인 액션을 읽던 도중 아래와 같은 코드를 보게 되었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">File</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> hiddenFiles <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">listFiles</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">FileFilter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">accept</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">File</span> file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> file<span class=\"token punctuation\">.</span><span class=\"token function\">isHidden</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>디렉토리에 숨겨진 파일을 필터링하는 코드이다. 한 눈에 들어오지 않아서 인텔리제이를 켜고 하나하나 입력해봤다. new FileFilter 부분을 타이핑하자 자동완성이 되었다. 완성된 코드는 평소에 객체 생성할 때 보던 코드와 다른 모습이였다. FileFilter가 무엇인지 알아내기 위해서 내부로 들어가보았다. 인터페이스였다. 내가 아는 인터페이스는 new 키워드로 객체 생성이 불가능한데..? 뭐지?</p>\n<h3 id=\"인터페이스도-익명-객체로-객체-생성이-가능하다\" style=\"position:relative;\"><a href=\"#%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4%EB%8F%84-%EC%9D%B5%EB%AA%85-%EA%B0%9D%EC%B2%B4%EB%A1%9C-%EA%B0%9D%EC%B2%B4-%EC%83%9D%EC%84%B1%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%98%EB%8B%A4\" aria-label=\"인터페이스도 익명 객체로 객체 생성이 가능하다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인터페이스도 익명 객체로 객체 생성이 가능하다.</h3>\n<p>익명 객체란 말 그대로 이름이 없는 객체이다. 이름이 없기 때문에 부를 수도 없다. 그렇기 때문에 생성과 동시에 한번만 사용되고 사라진다. 일반적으로 생성한 후에 다른 메소드의 파라미터로 넘겨줄 때 사용한다.</p>\n<p><strong>인터페이스도 익명 객체를 생성함과 동시에 추상메소드를 구현한다면 (익명)객체로 만들 수 있다.</strong></p>\n<blockquote>\n<p>자바8에서 추가된 기능으로 더 이상 위와 같이 구현하지 않고, 메소드를 일급객체 취급하여 메소드 참조를 통해 메소드를 전달할 수 있게 된다.</p>\n</blockquote>","excerpt":"모던 자바 인 액션을 읽던 도중 아래와 같은 코드를 보게 되었다. 디렉토리에 숨겨진 파일을 필터링하는 코드이다. 한 눈에 들어오지 않아서 인텔리제이를 켜고 하나하나 입력해봤다. new FileFilter 부분을 타이핑하자 자동완성이 되었다. 완성된 코드는 평소에 객체 생성할 때 보던 코드와 다른 모습이였다. FileFilter가 무엇인지 알아내기 위해서 내부로 들어가보았다. 인터페이스였다. 내가 아는 인터페이스는 new 키워드로 객체 생성이 불가능한데..? 뭐지? 인터페이스도 익명 객체로 객체 생성이 가능하다. 익명 객체란 말 그대로 이름이 없는 객체이다. 이름이 없기 때문에 부를 수도 없다. 그렇기 때문에 생성과 동시에 한번만 사용되고 사라진다. 일반적으로 생성한 후에 다른 메소드의 파라미터로 넘겨줄 때 사용한다. 인터페이스도 익명 객체를 생성함과 동시에 추상메소드를 구현한다면 (익명)객체로 만들 수 있다. 자바8에서 추가된 기능으로 더 이상 위와 같이 구현하지 않고, 메소드를 …","frontmatter":{"date":"October 26, 2023","title":"인터페이스는 객체 생성이 불가능할까?","categories":"자바","author":"화나","emoji":"📚"},"fields":{"slug":"/java/java-interface-noname-instance/"}},"next":{"id":"d4103c3e-dd77-5908-81bd-53d686e0acf7","html":"<h3 id=\"-오늘의-내용정리\" style=\"position:relative;\"><a href=\"#-%EC%98%A4%EB%8A%98%EC%9D%98-%EB%82%B4%EC%9A%A9%EC%A0%95%EB%A6%AC\" aria-label=\" 오늘의 내용정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📝 오늘의 내용정리</h3>\n<p><a href=\"https://hwana.github.io/java/java-interface-noname-instance/\">인터페이스는 객체 생성이 불가능할까?</a></p>\n<h3 id=\"-오늘의-마무리\" style=\"position:relative;\"><a href=\"#-%EC%98%A4%EB%8A%98%EC%9D%98-%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\" 오늘의 마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🔚 오늘의 마무리</h3>\n<p>자바8에 추가된 기능에 대해서 알고싶어서 모던 자바 인 액션을 읽기 시작했다. 책을 너무 여러권 읽는 것 같지만.. 병렬독서가 적성에 맞는 나는 어쩔수없다. 그리고 지금 당장 람다와 스트림에 얼른 익숙해지고 싶기 때문에 다른 책을 펼쳐버렸다. 모던 자바 인 액션은 예전에 읽으려고 시도했다가 포기한 책이다. 번역 어투가 적응이 잘 되지 않았고 어려웠다.</p>\n<p>오늘도 많은 부분을 읽지는 못했다. 하지만 이대로 또 포기할 수는 없기때문에 천천히 한글자 한글자 읽어내려갔다. 중간에 이해가 안가는 부분은 구글에 검색하며, 코드를 직접 쳐가며 머리에 넣으려고 노력했다. 코드를 치면서 읽다보니 평소에는 지나쳤을 지식도 새롭게 알게되었다. 얼른 익숙해져서 스트림 잘 쓰고 싶다!</p>","frontmatter":{"date":"October 26, 2023","title":"TIL) 20231026","categories":"TIL","author":"화나","emoji":"✨"},"fields":{"slug":"/naebaecamp/today-i-learned/20231026/"}},"prev":{"id":"b2dd23df-7add-5924-9fc8-8528c6eff72e","html":"<p><a href=\"https://github.com/hwana/kiosk/commit/e75261f61c1e455ae450205d61c3637c9200b606\">수정목록</a></p>\n<h3 id=\"1-cart-클래스-신규-생성\" style=\"position:relative;\"><a href=\"#1-cart-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%8B%A0%EA%B7%9C-%EC%83%9D%EC%84%B1\" aria-label=\"1 cart 클래스 신규 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Cart 클래스 신규 생성</h3>\n<ul>\n<li>현재상황 : 주문 상태를 필드가 아닌 리스트로 관리하기로 팀원들과 협의 → 주문 상태 필드 삭제 및 대기/완료리스트 신규 생성</li>\n<li>문제점 : 대기리스트에 주문을 담으려고 하니까 값이 초기화되는 문제 발생</li>\n<li>원인 : Order 클래스가 장바구니의 역할까지 하고 있는 것</li>\n<li>해결방안 : Cart 클래스를 추가하여 Order 클래스의 역할 부담을 덜어줌</li>\n<li>느낀점 : 혼자서 헤메이다가 팀원들과 대화를 나누다보니 해결방안이 딱 나왔다! 하나의 클래스는 하나의 역할을 담당하는 것이 얼마나 중요한건지 한번 더 깨닫게 되었다.</li>\n</ul>\n<h3 id=\"2-관리자-모드-추가\" style=\"position:relative;\"><a href=\"#2-%EA%B4%80%EB%A6%AC%EC%9E%90-%EB%AA%A8%EB%93%9C-%EC%B6%94%EA%B0%80\" aria-label=\"2 관리자 모드 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 관리자 모드 추가</h3>\n<ul>\n<li>대기목록 출력\n<ul>\n<li>\n<p>현재상황 : 주문을 할 때마다 새로운 Order 인스턴스를 생성하여 Cart에 있는 값을 넣어주고 waitingList에 추가해 줌</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Order</span> order <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Order</span><span class=\"token punctuation\">(</span>cart<span class=\"token punctuation\">.</span><span class=\"token function\">getCartMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> cart<span class=\"token punctuation\">.</span><span class=\"token function\">getTotalPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> waitingNumber<span class=\"token punctuation\">,</span> <span class=\"token function\">makeISO8601Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nwaitingList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>order<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"주문이 완료되었습니다.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"대기번호는 [ \"</span> <span class=\"token operator\">+</span> waitingNumber<span class=\"token operator\">++</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" ]번 입니다.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"(3초 후 메뉴판으로 돌아갑니다.)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">//다음 주문을 위한 장바구니 초기화</span>\r\n<span class=\"token function\">resetCart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>문제점 : 대기목록을 출력하기위해 waitingList에 있는 Order 인스턴스의 값을 가져옴 → 다른 필드들은 값이 있는데 orderMap만 사라지는 문제 발생</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">printOrderList</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Order</span><span class=\"token punctuation\">></span></span> orderList<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> orderList<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[       \"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" 번째 주문      ]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1. 대기 번호 : \"</span> <span class=\"token operator\">+</span> orderList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getWaitingNumber</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2. 주문 상품 목록\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\t\t<span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Product</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> orderMap <span class=\"token operator\">=</span> orderList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getOrderMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 값이 없음!!!!</span>\r\n\r\n\t\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Product</span> product <span class=\"token operator\">:</span> orderMap<span class=\"token punctuation\">.</span><span class=\"token function\">keySet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"    - 상품명 : \"</span> <span class=\"token operator\">+</span> product<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"    - 가격 : \"</span> <span class=\"token operator\">+</span> product<span class=\"token punctuation\">.</span><span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"    - 개수 : \"</span> <span class=\"token operator\">+</span> orderMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"개\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token punctuation\">}</span>\r\n\r\n\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"3. 주문 총 가격 : \"</span> <span class=\"token operator\">+</span> orderList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTotalPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"4. 요청 사항 : \"</span> <span class=\"token operator\">+</span> orderList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"5. 주문 일시 : \"</span> <span class=\"token operator\">+</span> orderList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getOrderTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\t\t<span class=\"token class-name\">String</span> doneTime <span class=\"token operator\">=</span> orderList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDoneTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>doneTime <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"6. 완료 주문 일시 : \"</span> <span class=\"token operator\">+</span> doneTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token punctuation\">}</span>\r\n\t<span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>원인</p>\n<p><code class=\"language-text\">Order order = new Order(cart.getCartMap(), cart.getTotalPrice(), request, waitingNumber, makeISO8601Date());</code></p>\n<p>Order 인스턴스 생성 시 orderMap(첫번째 인자)을 <code class=\"language-text\">cart.getCartMap()</code> 형태로 넘기기 때문에 <strong>주소값</strong>이 Order 인스턴스에 저장되었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 357px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACd0lEQVQ4y2WT23LbNhCG/S6ZSDyAxJEAzxIp2qkby5JzkU6nafsKff+brwPITjzJxc4uyME3u/+/uKtqg3CKUjUIPSJqQyUNUjlK5RDWU1tPVil2QqbYC0lR1hRv+bXOcsGdsQF5tJjjA6p7QtmOpglI3/GkG/6qDV+145IVnHc5L7ucU1aQ15pSSMqYK5UiKyruIlnLhvnlhcM6sfWe8zISupYvecW9cjjdMIeBMfQcbOCPsmLdPjHOC9b3KG1Th3kERnKeC4bzhXlZWLrAsW8Zx45LLflHOf77/My/vuXxw47rxz3bvkgSxLtp7Nhp6lDcgFWlGC9XpuMxAecu0DYeHQJ1EwjDAWl90i6CEuwd6Beg1i4Bh8OBT1PHOnQo3VAZS1nfxH67VFbyu2Y/x3fgfl8wPF9Yt5Vj61mGjus2c1knWtdgmx6pLFkRHY1a3XJ0N9bpLF5NiUD12mEcOQLXseM09qlzGRx27tB9QPceMwTM1KY6fov/3LFD+ea2Nm8aTtfo8sKpDxyHlrlr0cYT+gETPLUxSGuotaF2ltreQjYO6R2VMjdgEWffC7rfn1hOC1sfUndDCKh2ZDo9UCjHx7TUKkVeypsppfwhgXjV0LmW+uTogmK0llw6Su2RNnDvWh6VYy0r5l3GYV9wyAqqomKXC/K311K9c1nUGmUc4/OF8TBzbAPbPNAax7eyZjUNm7I8mIbVeC5C8iwN3bJhrMc2LeJnl6tKJ1PmJe6h534emLzn71zw2Xr+nBa++I5TWfOSCx4rhR3mZKbU7te1yTJB/3ROwGjK1N5ey2ItJxf4dr7yW9vjdzltLijLmv37kd8t9v+VLsJtD/1xhAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"디버깅 했을 때, 같은 주소값을 가지고 있는 것을 확인할 수 있다.\"\n        title=\"디버깅 했을 때, 같은 주소값을 가지고 있는 것을 확인할 수 있다.\"\n        src=\"/static/4a8361b384cec91a1ecba3faf0114f24/22d0a/1.png\"\n        srcset=\"/static/4a8361b384cec91a1ecba3faf0114f24/e9ff0/1.png 180w,\n/static/4a8361b384cec91a1ecba3faf0114f24/22d0a/1.png 357w\"\n        sizes=\"(max-width: 357px) 100vw, 357px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>디버깅 했을 때, 같은 주소값을 가지고 있는 것을 확인할 수 있다.</p>\n<p>그 다음 <code class=\"language-text\">resetCart();</code> 메소드로 cartMap을 clear해주기 때문에 Order 인스턴스에 저장된 값도 함께 초기화되어버린다.</p>\n</li>\n<li>\n<p>해결방안 : 새로운 공간을 할당하여 인자로 넘겨주었다.</p>\n<p><code class=\"language-text\">Order order = new Order(new HashMap&lt;>(cart.getCartMap()), cart.getTotalPrice(), request, waitingNumber, makeISO8601Date());</code></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 341px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC4ElEQVQ4y22T2W7cRhBF51sCjzhcusnm0myyufRs0owsKSNRazY4sg0FAbK8BA7y8ycgIwm2kYeDXh4uqm7dmok0JcpTosQgVI2QilgVxConVAVhbohywyLOmIuEI6GYS0UgEsIXomdEwiytNfHaoOozIr1DqgKVlcS65lzlPEjFfZJz8ALO33hcHC04zD1kIDgKBH4oX4WDKGYmhEJbx+ruBmcyTjrLxaqh0Jr7RUSbabQqsKWlNw3aNNz6Efu6ZXVySpaXaGOJxqpHwSCUJGVFfzXQaM2mrVlbgzGGmyDix7TgyW14Zyzn8wVnXsB3b47QUiHTYrJoFHutcBSMtaEfBmxR4GxFU2q6qqQyJa2pebvds2o6Yj9ChRIZSfwontodRV6YPJRxStk62quB1mhOl810+iLDSxSLJOGbI5+5H02D8MdKPh/IV8z8QEwVuuGa3pSsmppNU7FzzdR6mmSkuSFROX4gCcL4P6KveP6bhVE8eeiGgb4q6WvD3lm23ShcU1aGzBjiNCdKFCLNECqd7i+M7/E/itXYcoZu3eTh6N1xZ+kqw9LW+CJFmILcVai6JHc1qTVkXfVK7izFyqLXzSQ88xcL4lyzur1mVWVsGs2mLtBpQpYVuH6JFDGBHxAG4UTwP/h+SBCGzER9SdwfsBcfcMcPtOs7tqc/0GwesG/f4Q4fSdwtnjmwqC7xqkv86oB4JjJfMlPnf5BeP7IdPlHs/yTe/k43/M3u9h8ebz7x8/AX17vf2NTvOW4+sms+0HRP+P0vhN0T0fJXxGfMpMzR7Zr+9h6rS/auZeNa+jDhIUhoUsNaabZ5xVZbTlLNnRey3p7S9muyop7wx12W6RhsgTIV7uoKW+SsbMWyrdimKT/5AUOueewc35c1e8/nW8/ncu6h8hKVvWzKuCWSMTGzMe0y13SHSzpTsmktrSlxtaHPC5ZlzbA7Y9c6skWIDgQyilmE8otNCZ8D/y9lC++EHN/cXgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"서로 다른 주소값을 가지고 있는 것을 확인할 수 있다.\"\n        title=\"서로 다른 주소값을 가지고 있는 것을 확인할 수 있다.\"\n        src=\"/static/007870f9254cc6e1add6df31dd7f24d5/4c0ad/2.png\"\n        srcset=\"/static/007870f9254cc6e1add6df31dd7f24d5/e9ff0/2.png 180w,\n/static/007870f9254cc6e1add6df31dd7f24d5/4c0ad/2.png 341w\"\n        sizes=\"(max-width: 341px) 100vw, 341px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>서로 다른 주소값을 가지고 있는 것을 확인할 수 있다.</p>\n</li>\n<li>\n<p>느낀점 : 이 부분은 혼자서 디버깅을 해도 찾을 수가 없어서 튜터님과 함께 디버깅을 진행했다. 튜터님은 cartMap과 orderMap의 상관관계에 대해서 물어보고 혹시 map들이 초기화 되는 부분들이 어딘지 물어보셨다. 이런방식으로 접근을 하다보니 resetCart() 메소드가 튜터님 눈에 들어오게 되었고 결국은 cartMap을 얕은 복사로 넘겨주고 있어서 발생한 문제라는 것을 알게되었다. 나 혼자봤으면 오늘 하루종일 봐도 못찾았을 것 같다..! 다시 한번 자바에서 값을 대입하거나, 복사할 때 신경써야한다는 것을 느꼈다.</p>\n</li>\n</ul>\n</li>\n<li>완료목록 출력\n<ul>\n<li>대기목록 출력하는 부분과 똑같다. printOrderList() 메소드를 사용하는데 인자로 doneList를 보낸다.</li>\n<li>대기목록 출력과 다른점 하나는 주문완료처리일시를 출력하는 것이다. 나는 완료일시에 값이 있으면 출력하고, 값이 없으면 출력하지 않는것으로 했다.</li>\n</ul>\n</li>\n<li>대기목록 → 완료목록 이동\n<ul>\n<li>인덱스를 활용하여 대기목록에 있는 객체를 완료목록으로 이동시킨 뒤 대기목록에서는 삭제시켰다.</li>\n</ul>\n</li>\n</ul>","frontmatter":{"date":"October 27, 2023","title":"내일배움캠프) JAVA 개인 프로젝트 과제 구현 5차","categories":"내일배움캠프","author":"화나","emoji":"✨"},"fields":{"slug":"/naebaecamp/project/java-solo-project5/"}},"site":{"siteMetadata":{"siteUrl":"https://www.hwana.com","comments":{"utterances":{"repo":"hwana/hwana.github.io"}}}}},"pageContext":{"slug":"/java/java-interface-noname-instance/","nextSlug":"/naebaecamp/today-i-learned/20231026/","prevSlug":"/naebaecamp/project/java-solo-project5/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}