{"componentChunkName":"component---src-templates-blog-template-js","path":"/security/spring-security/","result":{"data":{"cur":{"id":"5916bbd8-7edf-5e79-bc5e-16082ba80919","html":"<h1 id=\"websecurityconfig\" style=\"position:relative;\"><a href=\"#websecurityconfig\" aria-label=\"websecurityconfig permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WebSecurityConfig</h1>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\r\n<span class=\"token annotation punctuation\">@EnableWebSecurity</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">WebSecurityConfig</span> <span class=\"token punctuation\">{</span>\r\n\r\n\t<span class=\"token annotation punctuation\">@Bean</span>\r\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">SecurityFilterChain</span> <span class=\"token function\">securityFilterChain</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpSecurity</span> http<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token comment\">// CSRF ì„¤ì •</span>\r\n\t\thttp<span class=\"token punctuation\">.</span><span class=\"token function\">csrf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>csrf<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> csrf<span class=\"token punctuation\">.</span><span class=\"token function\">disable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\t\thttp<span class=\"token punctuation\">.</span><span class=\"token function\">authorizeHttpRequests</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>authorize<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> authorize\r\n            <span class=\"token punctuation\">.</span><span class=\"token function\">requestMatchers</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PathRequest</span><span class=\"token punctuation\">.</span><span class=\"token function\">toStaticResources</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">atCommonLocations</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">permitAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">anyRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">authenticated</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\t\thttp<span class=\"token punctuation\">.</span><span class=\"token function\">formLogin</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Customizer</span><span class=\"token punctuation\">.</span><span class=\"token function\">withDefaults</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n\t\t<span class=\"token keyword\">return</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \r\n\t\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>CSRF(Cross Site Request Forgery)ë€?</p>\n<ul>\n<li>ì›¹ ì·¨ì•½ì  ê³µê²© ë°©ë²•ì¤‘ í•˜ë‚˜ë¡œ ì‚¬ìš©ìê°€ ìì‹ ì˜ ì˜ì§€ì™€ ë¬´ê´€í•˜ê²Œ ê³µê²©ìê°€ ì˜ë„í•œ í–‰ìœ„ë¥¼ íŠ¹ì • ì›¹ì‚¬ì´íŠ¸ì— ìš”ì²­í•˜ê²Œ í•˜ëŠ” ê³µê²©</li>\n</ul>\n</li>\n<li>\n<p>Spring Securityì—ì„œëŠ” CSRF ì˜ˆë°©ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë° DISABLE í•˜ëŠ” ì´ìœ </p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/features/exploits/csrf.html#csrf-considerations\">Cross Site Request Forgery (CSRF) :: Spring Security</a></p>\n<p>ê³µì‹ í˜ì´ì§€ì— ë‚˜ì™€ìˆë“¯, CSRF ì„¤ì •ì€ ë¸Œë¼ìš°ì €ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. CSRFë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ë¸Œë¼ìš°ì € ì´ì™¸ì˜ í´ë¼ì´ì–¸íŠ¸ì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤(REST API)ë¥¼ ìƒì„±í•  ê²½ìš°ì´ë‹¤. REST APIëŠ” ì„œë²„ì— ì¸ì¦ì •ë³´ë¥¼ ë³´ê´€í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— CSRF ê³µê²©ì— í¬ê²Œ ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤.</p>\n</li>\n<li>\n<p>authorizeRequests() : íŠ¹ì • ê²½ë¡œì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì„ ì§€ì •í•˜ëŠ” ë©”ì†Œë“œ</p>\n</li>\n<li>\n<p>requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll() : ì •ì  ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì€ ëª¨ë‘ì—ê²Œ í—ˆìš©í•œë‹¤.</p>\n</li>\n<li>\n<p>anyRequest().authenticated() : ë‚˜ë¨¸ì§€ ëª¨ë“  ìš”ì²­ì€ ì¸ì¦ëœ ì‚¬ìš©ìì—ê²Œ í—ˆìš©ëœë‹¤.</p>\n</li>\n<li>\n<p>http.build() : http ê°ì²´ë¥¼ ë¹Œë“œí•˜ì—¬ SecurityFilterChainë¹ˆì„ ë°˜í™˜í•œë‹¤.</p>\n</li>\n</ul>\n<h1 id=\"usernamepasswordauthenticationfilter\" style=\"position:relative;\"><a href=\"#usernamepasswordauthenticationfilter\" aria-label=\"usernamepasswordauthenticationfilter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UsernamePasswordAuthenticationFilter</h1>\n<ul>\n<li>ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì—ì„œ ì œê³µí•˜ëŠ” ì‚¬ìš©ì ì¸ì¦ì„ ì²˜ë¦¬í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” í•„í„°</li>\n<li>ì‚¬ìš©ìê°€ ì œê³µí•œ ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¸ì¦ì„ ìˆ˜í–‰í•œë‹¤.</li>\n<li>ì£¼ë¡œ ì›¹ ê¸°ë°˜ì˜ í¼ ë¡œê·¸ì¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” í•„í„°ì´ë‹¤.</li>\n</ul>\n<h2 id=\"ë™ì‘ì˜-íë¦„\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%9E%91%EC%9D%98-%ED%9D%90%EB%A6%84\" aria-label=\"ë™ì‘ì˜ íë¦„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë™ì‘ì˜ íë¦„</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFdklEQVQ4yzWQCVCTdxDFF0SkylER1HrgSFVQq0VBreJRO3aKM6IiEAJJOAzxywUKihwWVEC5Kh4cAWJIvhwcaaIIKCBKkTMEQgKBEAmikqoYrHe9nX8nVHfmN2/f7O7MzoMV7ivd1ixfvXrF0h88md7uO47vcN/lu3bV2uDQsKk0/53TA4gkS7t539sAgN3+UvV+YolKRChUcAPy2i4Si1UcIlddSBHe5kZKH7pFysYBgsIjp6JDKwHFOME75uIj75mLL79lLnVHR5fBql1kK//dvtZTXNdZubm6erD5XbeCzjciwrkGRDj7P4FnriJSUQfC5CYfrGoCIGq9izVKc3dA17ztHmFuK1uISzYhsZcjKvWw1zG8HLyIjCkz7B2nUVIlUHe5duYl9ev51Pg/tgfTEwlXNK/nc67qFufLuxd69CAQpnIARjIphD7Sd68a9jg9vunnPFG/x3mica/zoxt7nd8YqQsrUDbAdIBpGEdhFyQybvYTPvjJr0j7y28pMoJvQd/WAMnjDcGy59tC//xnJfXqvwCqgsSQ3oPe+hu09ap6qpeyNsJT0XRgg/IvbL1h9KBnNkC7JWcMAa9lbHNUxQCKEPQimliLqIJeFHFR8QUlYl5+WB5VbQQIuFBrvRv+r3uJPlv00d5khIbtIgEAAUAtnm9pnoWQaD/GpnGIMencAFbyhZDDWXzf/GrVpnOyjs250rZtqWVKl2yZEiDw1y02sQCTR5/YrrEf2K6Vg6RFngghIG10d/BYs8bGydHpG1trOxcAmPWF2QAw47iwHdLL2uGkqAWSREo4Ud4FwDyWabXDP+LbbTuJjrD1mB0so86CnUdsfPwp9ht8Am3tbWdYz12+zuoYQhY/U2Kmb/THbLdTk6Zv9wtdEnTotG1yF7JiC5TWLNmoFSGv1QL84grNz1kDwNx5AC6udrB69+kqCJcagSLQTUZB57ZCYHH31705AOCwaI7TFh5CQChsgxCJAcLlDyG4SAlAPXvNnVp5359R83RXSIkqIJQ/QKBW3NsTLhkJoIpv+8wGsKQVNm+giAwJZFx/kITrD4XwtDGB+Z2JJP5gbPDF/lhiiTomrOxe3L5TV/bB76K2TCpPifbzlJ+ovO7PVJ7yc3hJ56eI4nZE5Ws0EoTgZHlnBoarEIb3PqOLNC8xXPWSLu57gQl7zWr2z6ncjvdBWTVFkCxqp7El/V0sibaJJe5vZuC9zSzJQFNUpb6TVTnCfYUQpMq1h+MbX/7NEGt1mKBXj+EavVkPCFR6Gk+px3D1UELTm1Hy+aYsOCFuSWDg3fcZIvUAXdAzRBd0DzFE6kGGSH2XUaa7ZEII0mXqhKN1Tx6xxP23mUKNgYGrDQyh2sDAew10fo+BKdQMx19/PkY+25gNKXJd7JGGF3fCSzr7KAW3tOHFHVpyXlNfdNWDkcPXX0s1CEFalS45vvn9M6xs8B5NqDZGCjXGSH6PMVKgMmLlQ0amdHgsoeWjiVLYdh7S5ZozcfUTH0Lzrk+E5NY8JZ2peRqUIX0SJb/zLq7x5c2PCEGGXMVOvPpAdViquxVT1tcaU97fGluubY2ZpN+sLUl14wpyTm0S5GWmOXFOJrlU8PAFUoF4ErlEuqA0+/TC4wejnKvNGV4ZTmHJx96EXLj5KKxYYQotajeFlShMocWdJnJBs4lc2DrOqnr4IqxIUQA4pwCE53Kh9nI91FXfgGvVN6ChrhVkvFLInwlwahxBamV3XHTlkJFdptVFV+r1URW6SQ7JDHqzZ0v6h6Ir9aPBOdcyIY8vs8gRNlhk4/UWOV8w9xncKouUW28tU+8iSCtvP8kQqh5j/C4DVqoY/Qod7xml492jNG7bCF2oekDKrcv6D+wo3nj/znU1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/662295215e47b909a64ae292068f09b2/37523/1.png\"\n        srcset=\"/static/662295215e47b909a64ae292068f09b2/e9ff0/1.png 180w,\n/static/662295215e47b909a64ae292068f09b2/f21e7/1.png 360w,\n/static/662295215e47b909a64ae292068f09b2/37523/1.png 720w,\n/static/662295215e47b909a64ae292068f09b2/302a4/1.png 1080w,\n/static/662295215e47b909a64ae292068f09b2/07a9c/1.png 1440w,\n/static/662295215e47b909a64ae292068f09b2/2b608/1.png 1540w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í¼ì— ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•œ ë’¤ ë¡œê·¸ì¸ ìš”ì²­ì„ ì „ì†¡í•˜ë©´ UsernamePasswordAuthenticationFilter ê°€ ìš”ì²­ì„ ê°€ë¡œì±„ì„œ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì •ë³´ë¡œ UsernamePasswordAuthenticationToken ì„ ìƒì„±í•œë‹¤.</li>\n<li>ìƒì„±í•œ í† í°ì„ AuthenticationManager ì—ê²Œ ì „ë‹¬í•œë‹¤. AuthenticationManager ëŠ” ì‹¤ì œë¡œ ì‚¬ìš©ìë¥¼ ì¸ì¦í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\n<ul>\n<li>ì¸ì¦ì— ì„±ê³µí•  ê²½ìš°\n<ul>\n<li>Authentication ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì´ ê°ì²´ë¥¼ SecurityContextHolderì— ì €ì¥í•œë‹¤.</li>\n<li>AuthenticationSuccessHandler ì‹¤í–‰ë˜ì–´ ë¡œê·¸ì¸ ì´í›„ íŠ¹ì • ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤.</li>\n</ul>\n</li>\n<li>ì¸ì¦ì— ì‹¤íŒ¨í•  ê²½ìš°\n<ul>\n<li>AuthenticationFailureHandlerê°€ ì‹¤í–‰ë˜ì–´ ì—ëŸ¬í˜ì´ì§€ë¡œ ë¦¬ë””ë ‰ì…˜í•˜ê±°ë‚˜ íŠ¹ì • ë™ì‘ì„ êµ¬í–‰í•œë‹¤.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"securitycontextholder\" style=\"position:relative;\"><a href=\"#securitycontextholder\" aria-label=\"securitycontextholder permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SecurityContextHolder</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAACBUlEQVQozzWLzVMSYQCH97/rkpPJ1HTq0LRYl05+NFOHGg9M5ojLgpCKrisbIJSyLLi7fCyLieBCmqGpI2VjzsSkjV2AgPf9NTDT4bk88zyM493eq+GNJlitTVitTVm1hZtOEzZfBXfndzHgNHHHV8bQ7A5s3h3c4vIY5DZxw6Fi0PsRdr3Te8GqbTxOdcBMrVVEoXgN47RFtOMG1Y4bUCo/MBs1wYXS8EQycAY24JR0uMIZTAdUeKImIpvHkMsX0E+a6D3Z0yaWSn/AvH5f8ZvVS5xf/SW1eoPW6g2cXwOFz2dQzF1krCPEDQtaoYpU8RCyUYZePETtVxtnV13U6s0+3y9byFV/g3FH8otP/BU80ECGdUIfql1q1yllk01qc2/Tgek8tc1adNBdokOeMr3t2qL3lg77jV0jlNUIfZSi9L7SoZPqT8pMSWn/S6GA0PZ5R0hXu+HCVxLIHZHQ1jcysbpPFuLbxBMxyFxsi3gjGeIKZ8lE9ICIxhERs1+IlD8hYvaALKRPiE+/6DKTwZz4wpfGulrCclCBEExgxhvAavwDuOg+VqJpzC3HIAST8EtxvFlJwCEW4V+JYV5cg/BWwZIkw+2PgY/VwCyuGY5nHvnTyIxcGueT1iinWGN80hqZka1xbt0a4eLWGJ+wxlz/UaynvNxv+vQcn9gZ5TfKz6U94x/EbaUduIWe/AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/28f0f6e49649bc90a0d215b286da1559/37523/2.png\"\n        srcset=\"/static/28f0f6e49649bc90a0d215b286da1559/e9ff0/2.png 180w,\n/static/28f0f6e49649bc90a0d215b286da1559/f21e7/2.png 360w,\n/static/28f0f6e49649bc90a0d215b286da1559/37523/2.png 720w,\n/static/28f0f6e49649bc90a0d215b286da1559/587b0/2.png 970w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>\n<p>í˜„ì¬ ì‚¬ìš©ìì˜ ì¸ì¦ ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ì–¸ì œë“ ì§€ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í´ë˜ìŠ¤ì´ë©° SecurityContextë¥¼ ê´€ë¦¬í•œë‹¤.</p>\n</li>\n<li>\n<p>SecurityContextì—ëŠ” Authentication ê°ì²´ì™€ ê´€ë ¨ëœ ë³´ì•ˆ ì •ë³´ê°€ ì €ì¥ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">SecurityContext</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token class-name\">Authentication</span> <span class=\"token function\">getAuthentication</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token keyword\">void</span> <span class=\"token function\">setAuthentication</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Authentication</span> authentication<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>AuthenticationëŠ” í˜„ì¬ ì‚¬ìš©ìì˜ ì¸ì¦ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Authentication</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Principal</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token class-name\">Collection</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">GrantedAuthority</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getAuthorities</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token class-name\">Object</span> <span class=\"token function\">getCredentials</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token class-name\">Object</span> <span class=\"token function\">getDetails</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token class-name\">Object</span> <span class=\"token function\">getPrincipal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token keyword\">boolean</span> <span class=\"token function\">isAuthenticated</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t<span class=\"token keyword\">void</span> <span class=\"token function\">setAuthenticated</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">boolean</span> isAuthenticated<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"userdetailsservice\" style=\"position:relative;\"><a href=\"#userdetailsservice\" aria-label=\"userdetailsservice permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UserDetailsService</h2>\n<p>ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ DBì—ì„œ ê°€ì ¸ì™€ ê²€ì¦í•˜ê³  UserDetails ê°ì²´ë¡œ ë°˜í™˜í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Service</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomUserDetailsService</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">UserDetailsService</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Autowired</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserRepository</span> userRepository<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token annotation punctuation\">@Override</span>\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UserDetails</span> <span class=\"token function\">loadUserByUsername</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> username<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">UsernameNotFoundException</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> userRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findByUsername</span><span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">)</span>\r\n                <span class=\"token punctuation\">.</span><span class=\"token function\">orElseThrow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UsernameNotFoundException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"User not found with username: \"</span> <span class=\"token operator\">+</span> username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomUserDetails</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"userdetails\" style=\"position:relative;\"><a href=\"#userdetails\" aria-label=\"userdetails permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UserDetails</h2>\n<p>ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ í‘œí˜„í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤,  UsernamePasswordAuthenticationToken íƒ€ì…ì˜ Authenticationë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©ë˜ë©° í•´ë‹¹ ì¸ì¦ê°ì²´ëŠ” SecurityContextHolderì— ì„¸íŒ…ëœë‹¤.</p>\n<h1 id=\"ê¸°ë³¸-ë¡œê·¸ì¸\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-%EB%A1%9C%EA%B7%B8%EC%9D%B8\" aria-label=\"ê¸°ë³¸ ë¡œê·¸ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°ë³¸ ë¡œê·¸ì¸</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSklEQVQY012Qy0rDQBiF81Q+jA/hY7jvoqW5CBWsUMWF4s6VYLEo1mBMFRN00aY2t5p0Lv/8k5mOSBdWv92Bc+DjWGYLrTUA/Oa1kVwDlUCkBLVdK8slpdQKivkwiUtGUAgOnBDCOWeMAwClpFpVSivZIAgQQjRNY4xhlI5uR1EUW0eTu5P74eV4FIwffd/P8zzLsvHDOMsyAEg+05pQxvgknDDOKaUAMJvNBoPTIHi2XhbJTRgwFPVXRQhZrVaIKARKZErJjb3WWjXIOUdEYwwHiKK4KApLKbWR2ZBlaZqmZbkkdY7I96/ivYu369fEGJmXpe/7YRgmyZyzHwvr32ECoKrr6XQmBMhG756/7ww+zp4WxphGaSklAGit18Yg4p+xUqrf77darXa7bdu24zjHPW9w6PUOvG7Xtm3bdV3P8xzHcV230+l8A4HYeMdBL7zqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/c296bd303b5bc5bb85f1e40013bae820/37523/3.png\"\n        srcset=\"/static/c296bd303b5bc5bb85f1e40013bae820/e9ff0/3.png 180w,\n/static/c296bd303b5bc5bb85f1e40013bae820/f21e7/3.png 360w,\n/static/c296bd303b5bc5bb85f1e40013bae820/37523/3.png 720w,\n/static/c296bd303b5bc5bb85f1e40013bae820/302a4/3.png 1080w,\n/static/c296bd303b5bc5bb85f1e40013bae820/07a9c/3.png 1440w,\n/static/c296bd303b5bc5bb85f1e40013bae820/29114/3.png 1920w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>ë¡œê·¸ì¸ ì‹œë„í•  username, password ì •ë³´ë¥¼ POST HTTP bodyë¡œ ì „ë‹¬í•œë‹¤. Authentication ManagerëŠ” UserDetailsServiceì—ê²Œ usernameì„ ì „ë‹¬í•˜ê³  íšŒì› ìƒì„¸ì •ë³´ë¥¼ ìš”ì²­í•œë‹¤.</li>\n<li>UserDetailsServiceëŠ” ì „ë‹¬ë°›ì€ usernameìœ¼ë¡œ DBì—ì„œ íšŒì› ì •ë³´ë¥¼ ì¡°íšŒí•œë‹¤.\n<ul>\n<li>ì„±ê³µí•  ê²½ìš° UserDetails ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•œë‹¤.</li>\n<li>ì‹¤íŒ¨í•  ê²½ìš° ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.</li>\n</ul>\n</li>\n<li>Authentication ManagerëŠ” ì „ë‹¬ë°›ì€ UserDetails ê°ì²´ë¡œ ì¸ì¦ì„ ì‹œë„í•˜ì—¬ ì„±ê³µí•˜ë©´ ì„¸ì…˜ì— ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.</li>\n</ol>\n<blockquote>\n<p>UserDetailsServiceì™€ UserDetailsë¥¼ ì§ì ‘ êµ¬í˜„í•˜ë©´ Spring Securityì—ì„œ ì œê³µí•˜ëŠ” ë””í´íŠ¸ ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šê² ë‹¤ëŠ” ëœ»ì´ ë˜ì–´ì„œ ê¸°ë³¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.</p>\n</blockquote>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%8F%99%EC%9E%91%EC%9D%98-%ED%9D%90%EB%A6%84\">ë™ì‘ì˜ íë¦„</a></p>\n<ul>\n<li><a href=\"#securitycontextholder\">SecurityContextHolder</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#userdetailsservice\">UserDetailsService</a></p>\n</li>\n<li>\n<p><a href=\"#userdetails\">UserDetails</a></p>\n</li>\n</ul>\n</div>","excerpt":"WebSecurityConfig CSRF(Cross Site Request Forgery)ë€? ì›¹ ì·¨ì•½ì  ê³µê²© ë°©ë²•ì¤‘ í•˜ë‚˜ë¡œ ì‚¬ìš©ìê°€ ìì‹ ì˜ ì˜ì§€ì™€ ë¬´ê´€í•˜ê²Œ ê³µê²©ìê°€ ì˜ë„í•œ í–‰ìœ„ë¥¼ íŠ¹ì • ì›¹ì‚¬ì´íŠ¸ì— ìš”ì²­í•˜ê²Œ í•˜ëŠ” ê³µê²© Spring Securityì—ì„œëŠ” CSRF ì˜ˆë°©ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë° DISABLE í•˜ëŠ” ì´ìœ  Cross Site Request Forgery (CSRF) :: Spring Security ê³µì‹ í˜ì´ì§€ì— ë‚˜ì™€ìˆë“¯, CSRF ì„¤ì •ì€ ë¸Œë¼ìš°ì €ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. CSRFë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ë¸Œë¼ìš°ì € ì´ì™¸ì˜ í´ë¼ì´ì–¸íŠ¸ì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤(REST API)ë¥¼ ìƒì„±í•  ê²½ìš°ì´ë‹¤. REST APIëŠ” ì„œë²„ì— ì¸ì¦ì •ë³´ë¥¼ ë³´ê´€í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— CSRF ê³µê²©ì— í¬ê²Œ ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤. authorizeRequests() : íŠ¹ì • ê²½ë¡œì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì„ ì§€ì •í•˜ëŠ” ë©”ì†Œë“œ requestMatchers(PathRequest.toStaticRâ€¦","frontmatter":{"date":"November 10, 2023","title":"Spring Security","categories":"ë³´ì•ˆ","author":"í™”ë‚˜","emoji":"ğŸ”"},"fields":{"slug":"/security/spring-security/"}},"next":{"id":"78fcc5ce-17d7-5308-91af-8c5f31554edc","html":"<p>í•„í„°ì™€ ì¸í„°ì…‰í„° ëª¨ë‘ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìš”ì²­ì„ ê°€ë¡œì±„ì–´ ì¤‘ê°„ì—ì„œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” êµ¬ì„±ìš”ì†Œì´ë‹¤.</p>\n<h2 id=\"ê³µí†µì \" style=\"position:relative;\"><a href=\"#%EA%B3%B5%ED%86%B5%EC%A0%90\" aria-label=\"ê³µí†µì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê³µí†µì </h2>\n<ol>\n<li>í•„í„° ì²´ì¸, ì¸í„°ì…‰í„° ìŠ¤íƒì„ í†µí•´ì„œ ìš”ì²­ê³¼ ì‘ë‹µì— ëŒ€í•œ ì—¬ëŸ¬ ì‘ì—…ì„ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ë‘ ê¸°ëŠ¥ ëª¨ë‘ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•µì‹¬ ë¡œì§ê³¼ ë¶„ë¦¬ë˜ì–´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³ , ì‘ì—…ì„ ê³µí†µì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ì½”ë“œì˜ ì¤‘ë³µì„ ì¤„ì¼ ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆë‹¤.</li>\n</ol>\n<p>ì´ ë‘˜ì€ ì–´ë–»ê²Œ ë™ì‘í•˜ë©°, ì°¨ì´ì ì€ ë¬´ì—‡ì´ ìˆì„ê¹Œ? ê° ê¸°ëŠ¥ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì!</p>\n<h1 id=\"filter\" style=\"position:relative;\"><a href=\"#filter\" aria-label=\"filter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Filter</h1>\n<p>í•„í„°ëŠ” J2EE í‘œì¤€ ìŠ¤í™ ê¸°ëŠ¥ìœ¼ë¡œ DispatcherServletì— ìš”ì²­ì´ ì „ë‹¬ë˜ê¸° ì „/í›„ì— ë¶€ê°€ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</p>\n<p>ìŠ¤í”„ë§ì´ ì•„ë‹Œ í†°ìº£ê³¼ ê°™ì€ ì›¹ ì»¨í…Œì´ë„ˆì— ì˜í•´ ê´€ë¦¬ê°€ ë˜ì§€ë§Œ, ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡ì€ ê°€ëŠ¥í•˜ë‹¤.</p>\n<details>\r\n<summary>í•„í„°ëŠ” ì—¬ëŸ¬ê°œë¥¼ ì²´ì¸ í˜•ì‹ìœ¼ë¡œ ë¬¶ì–´ì„œ ì²˜ë¦¬í•  ìˆ˜ë„ ìˆë‹¤. </summary>\r\n<div markdown=\"1\">\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 361px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFBUlEQVRIx5WVW1BVdRTG7aHygqB5G8X7TKVjD03TWy/10DipNV4yxxT1KCIaomXqTOGUgDWoXZxQHxzJDOV+EQ5wuKgIahgpigamEmLiBQU5e59z9n3/mn1Rj2IPnZlvr/9/fWt/c/b69vrvfqYJpnUBJEmj1y/hF2QXzjoY0AiIKqKoIojKo/wjiDKG4Wj0Mx1FDODk3lOULDhM2Yp8yjy5lHnyKFmazf75uzm8MIP8xQcpiMmk3JOPd5nDe5fkUL66CH9vKFwQVAxqUn0ceXsfpbMOUPLez3hn/ELeu3vY8noiSW8ksuG1WHa9lUrFrEybL51xgNLpGZTOzaSnO/ikoI7B6awGfF94OZpaSXWyj6qtFTaqU3wcSjhIWdIRalIc7iGqvi6ndsdxggHFEbQulqiu6yi6Zj96QJGQTd1eW//cig1nG+nq7bH3kq4iGS501c491LEFBf8DSr0+fN4Kqn1V1B8/QW3NMXxlPs6fbbJKCYkChqri3tkX7s8W1FSVjo4bXOu4SUt7Jzfv+/m7s4uLVztov92NBFxqu8FdUcZqfUAPg+HGYAhd0xxB63GDkgz//AnnvJhNFXDeB82V0FQOF3w0Z6Sg1GfZe62x1MEfVixBP1eBEhCQFMURNDSV3pCKtG8NrByMuW48ZkI0JEbjjxtN8cxhVM8ZRe28kSifWPmxsHasExNGw8ZXMbpvI+uGK6hr9AQVgntiwfMirBkF8cNh9XDUuGG0LxpKy8JhnJkTRWfMUFgzAtPmR8CqobB+Ivr9znBBnV4xSO+ZMoTi7xHKdiN40xG8P9nQqvZy8ce1+It2ECjf4+bTbfhLdiEfzcAIBZAV9XEPAwHReh3RrH0YNNtjONt2ix7XTP0pWGndNJFl2RXUNNslhHvQeQXutMFtC9ccdHfQWl2Aeb0ZutrdfFjN3XZ0VUF+aIquqfglDeXXjbA2GnPzNMyNU2DzVPyJr1A6fxKVCyZR+/FktM+nwKYpNm9umoq54WVIehPdMkV72pT0pRDTz2n0ysGwMhLVE8GVDwdwcV4EDe8P4P7iQRAXCbEOz4qBttP6vZt9TXlwIg/h0BaE3G0IuakIOamIuSnoRd/Sut2DcCjJ4XJSbM6q8WdvRS79ASMo9DXFcE0IhzVsVr6xvYtu14CnawzbFJBlKcyUkAQ3W+BcGTRXw4UqF5Vw+RiXs3Zi/l4Ml446uXD+0jF0KfTYFEPTnEnZnwBxQzDXT8RIHAfrxyPER+ObPZLq2SM5OX8USsI4WDcOM3GcO1FjYNNU9O5bfU0J7fbAkucg/iWIi4JVUcjLI2meO5CmeZHUzxrInUURED/E5YdAbIT9Zuj3njEpD2pzEDK/dJuejJCdjJizFaNoG1d2ehAtLjcFIXurzVk1/qyvkEu+c0xRw00RxWc2XHGnoeHqLdsU43+Zcvuq3WBa66G1DrOlDi7XQftvtOSlozf5oO00WHkLrVY8AX+dQpefZUpGot0/89PJGOsmwGcT6Vg+lsaFY2jzjOX8ojE0x0SjJU6wTxjLPNM6wjZP+69JWRY2KZEQH8X1jwZQ+M7zNH7Qn5rpL1A3sz9mbKQzLZYxKwZBwpgnJ0XXNef4OlmImJOMWLgdsSANoSANqSgNo2Q7anEauhWPpCEWptm8FYX8b1DK0zGlsOPLMAwEQSCog2h9MwDRdNZW9JsgGCCYDux8WJ31RQ5JEqqq8C+oGBXxR1iTogAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ì‚¬ì§„\"\n        title=\"ì‚¬ì§„\"\n        src=\"/static/3944e64c219dcd12913fce59c42db2e2/39d76/chain.png\"\n        srcset=\"/static/3944e64c219dcd12913fce59c42db2e2/e9ff0/chain.png 180w,\n/static/3944e64c219dcd12913fce59c42db2e2/f21e7/chain.png 360w,\n/static/3944e64c219dcd12913fce59c42db2e2/39d76/chain.png 361w\"\n        sizes=\"(max-width: 361px) 100vw, 361px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</div>\r\n</details>\n<h2 id=\"ë©”ì†Œë“œ\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EC%86%8C%EB%93%9C\" aria-label=\"ë©”ì†Œë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë©”ì†Œë“œ</h2>\n<p>Filter ì¸í„°í˜ì´ìŠ¤ëŠ” 3ê°€ì§€ ë©”ì†Œë“œë¥¼ ê°€ì§€ê³  ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Filter</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">void</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FilterConfig</span> filterConfig<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doFilter</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ServletResponse</span> response<span class=\"token punctuation\">,</span> <span class=\"token class-name\">FilterChain</span> chain<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">void</span> <span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol>\n<li>init ë©”ì†Œë“œ\n<ul>\n<li>í•„í„° ê°ì²´ë¥¼ ì´ˆê¸°í™”í•˜ê³  ì„œë¹„ìŠ¤ì— ì¶”ê°€í•˜ê¸° ìœ„í•œ ë©”ì†Œë“œ</li>\n<li>ì›¹ ì»¨í…Œì´ë„ˆê°€ init ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ í•„í„° ê°ì²´ë¥¼ ì´ˆê¸°í™” í•˜ë©´ ì´í›„ ìš”ì²­ë“¤ì€ doFilterë¥¼ í†µí•´ì„œ ì²˜ë¦¬ëœë‹¤.</li>\n</ul>\n</li>\n<li>doFilter ë©”ì†Œë“œ\n<ul>\n<li>ì´ ë©”ì†Œë“œì—ì„œ ì‹¤ì œ í•„í„°ë§ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©°, ìš”ì²­/ì‘ë‹µ ë°ì´í„°ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.</li>\n<li>FilterChain ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ í•„í„°ë¡œ ì œì–´ë¥¼ ì „ë‹¬í•˜ê³ , ëª¨ë“  ì‘ì—…ì´ ë‹¤ ëë‚˜ë©´ ìš”ì²­ì„ ì²˜ë¦¬í•  ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì „ë‹¬í•œë‹¤.</li>\n</ul>\n</li>\n<li>destroy ë©”ì†Œë“œ\n<ul>\n<li>í•„í„°ê°€ ì†Œë©¸ë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì†Œë“œ</li>\n<li>í•„í„° ìì›ì„ ì •ë¦¬í•˜ê³  ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•œë‹¤.</li>\n</ul>\n</li>\n</ol>\n<h1 id=\"interceptor\" style=\"position:relative;\"><a href=\"#interceptor\" aria-label=\"interceptor permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>InterCeptor</h1>\n<p>ì¸í„°ì…‰í„°ëŠ” ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ê¸°ìˆ ì´ê¸° ë•Œë¬¸ì— ìŠ¤í”„ë§ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë™ì‘í•œë‹¤.</p>\n<h2 id=\"ë©”ì†Œë“œ-1\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EC%86%8C%EB%93%9C-1\" aria-label=\"ë©”ì†Œë“œ 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë©”ì†Œë“œ</h2>\n<p>HandlerInterceptor ì¸í„°í˜ì´ìŠ¤ëŠ” 3ê°€ì§€ ë©”ì†Œë“œë¥¼ ê°€ì§€ê³  ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandlerInterceptor</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">default</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">preHandle</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span> handler<span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\r\n        \r\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">default</span> <span class=\"token keyword\">void</span> <span class=\"token function\">postHandle</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span> handler<span class=\"token punctuation\">,</span>\r\n        <span class=\"token annotation punctuation\">@Nullable</span> <span class=\"token class-name\">ModelAndView</span> modelAndView<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">default</span> <span class=\"token keyword\">void</span> <span class=\"token function\">afterCompletion</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span> handler<span class=\"token punctuation\">,</span>\r\n        <span class=\"token annotation punctuation\">@Nullable</span> <span class=\"token class-name\">Exception</span> ex<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol>\n<li>preHandler ë©”ì†Œë“œ\n<ul>\n<li>ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ë©”ì†Œë“œê°€ ì‹¤í–‰ë˜ê¸° ì „ì— í˜¸ì¶œ ëœë‹¤.</li>\n<li>ìš”ì²­ì„ ê°€ë¡œì±„ì„œ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œ, falseë¥¼ ë°˜í™˜í•˜ë©´ ìš”ì²­ì„ ê³„ì† ì²˜ë¦¬í•˜ì§€ ì•Šê³  ì¤‘ë‹¨ëœë‹¤.</li>\n</ul>\n</li>\n<li>postHandler ë©”ì†Œë“œ\n<ul>\n<li>ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ë©”ì†Œë“œê°€ ì‹¤í–‰ëœ í›„ ë·°ê°€ ë Œë”ë§ ë˜ê¸° ì „ì— í˜¸ì¶œë˜ëŠ” ë©”ì†Œë“œ</li>\n<li>ì»¨íŠ¸ë¡¤ëŸ¬ ì´í›„ì— ì²˜ë¦¬í•´ì•¼í•˜ëŠ” í›„ì²˜ë¦¬ ì‘ì—…ì— ì£¼ë¡œ ì‚¬ìš©ëœë‹¤.</li>\n</ul>\n</li>\n<li>afterCompletion ë©”ì†Œë“œ\n<ul>\n<li>ë·°ê°€ ë Œë”ë§ ëœ í›„ì— í˜¸ì¶œëœë‹¤.</li>\n<li>ì˜ˆì™¸ ì²˜ë¦¬ ë° ë§ˆë¬´ë¦¬ ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"ì°¨ì´ì \" style=\"position:relative;\"><a href=\"#%EC%B0%A8%EC%9D%B4%EC%A0%90\" aria-label=\"ì°¨ì´ì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¨ì´ì </h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABfElEQVQoz12ST0/bQBDF/WHplROHHPoFkDgUIXFCrdQDINQTlYqAFIoIhABKSPlnQghOsqkhTnBCSGK8u/5Vuy4F8bSjt7N6mhm9WSdJEkyQaKLREAMpJbGMUUohlUxZSnzfp9PuEoY9hsMhSiurM5o4TvWOLQYEjxGrhRrtx8jmieYVqYROGLCc/UK1USHRCe9hmjq9fp+jQp5cyWXpKOD4osHFZZls5RublSXW3K+ci2PKxTNO3RKZzxPsnfzCb90xGPcpiRx5bx0R1lBK40TRMw+dNm4jYDEvuL0bcN9tMr/9kblshpn1SXLVHyBB3HtkFj6wX95h8DDisL7F7PYUs5tTLBc/MX4e4zSFsBP+vvnDYsFn6+AUz7umKHY5bPzkoL5BvXPNTaVG1btieiXD2s533HOXQdTnpLVnNSK8TSf8ZyGtcMRKoYnojgBtz1sPtdbW+G4vsIt46+3L3XqYbjhBKs1TFFtOc/k/zPZMmKIGhl/eXjXS/pa/zfwF95qJXN4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ì‚¬ì§„\"\n        title=\"ì‚¬ì§„\"\n        src=\"/static/6b762167bf011fb26ab9487104c7610d/37523/image.png\"\n        srcset=\"/static/6b762167bf011fb26ab9487104c7610d/e9ff0/image.png 180w,\n/static/6b762167bf011fb26ab9487104c7610d/f21e7/image.png 360w,\n/static/6b762167bf011fb26ab9487104c7610d/37523/image.png 720w,\n/static/6b762167bf011fb26ab9487104c7610d/3c051/image.png 760w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><a href=\"https://www.baeldung.com/spring-mvc-handlerinterceptor-vs-filter\">ì´ë¯¸ì§€ ì¶œì²˜</a></p>\n<p>í•„í„°ëŠ” DispatcherServletì— ë„ë‹¬í•˜ê¸° ì „ ìš”ì²­ì„ ê°€ë¡œì±„ë©° ì¸ì¦, ë¡œê¹… ë° ê°ì‚¬, ì´ë¯¸ì§€ ë° ë°ì´í„° ì••ì¶•, Spring MVCì—ì„œ ë¶„ë¦¬í•˜ê³  ì‹¶ì€ ëª¨ë“  ê¸°ëŠ¥ì— ì í•©í•˜ë‹¤.</p>\n<p>ì¸í„°ì…‰í„°ëŠ” DispatcherServletê³¼ Controller ì‚¬ì´ì˜ ìš”ì²­ì„ ê°€ë¡œì±„ë©° ì„¸ë¶€ì ì¸ ë³´ì•ˆ ë° ì¸ì¦/ì¸ê°€ì— ê´€ë ¨ëœ ê³µí†µ ì‘ì—…ê³¼ Controllerë¡œ ë„˜ê²¨ì£¼ëŠ” ë°ì´í„°ë¥¼ ê°€ê³µí•˜ëŠ”ë° ì í•©í•˜ë‹¤.</p>","frontmatter":{"date":"November 09, 2023","title":"Filterì™€ Interceptor","categories":"Spring","author":"í™”ë‚˜","emoji":"ğŸƒ"},"fields":{"slug":"/spring/filter-interceptor/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://www.hwana.com","comments":{"utterances":{"repo":"hwana/hwana.github.io"}}}}},"pageContext":{"slug":"/security/spring-security/","nextSlug":"/spring/filter-interceptor/","prevSlug":""}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}